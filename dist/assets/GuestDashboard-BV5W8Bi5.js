import{u as P,r as l,j as e,T as _,c as A,d as H,q as T,w as O,g as U,L as d}from"./index-CFL3WSdy.js";const V=({product:t,darkMode:r})=>e.jsxs("div",{className:`border rounded-lg p-4 shadow-md transition-all duration-300 transform hover:scale-105 hover:shadow-lg ${r?"bg-gray-800 hover:bg-gray-700 border-gray-700 text-white":"bg-white hover:bg-gray-50 border-gray-200 text-gray-900"}`,children:[e.jsx(d,{to:`/products/${t.id}`,className:"block",children:e.jsx("div",{className:`h-48 ${r?"bg-gray-700":"bg-gray-100"} flex items-center justify-center rounded-md mb-4 overflow-hidden`,children:t.imageUrl?e.jsx("img",{src:t.imageUrl,alt:t.name,className:"object-cover h-full w-full hover:scale-105 transition-transform duration-300"}):e.jsx("svg",{className:"w-16 h-16",fill:r?"#4B5563":"#D1D5DB",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsx(d,{to:`/products/${t.id}`,children:e.jsx("h3",{className:`font-bold text-lg mb-1 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors ${r?"text-white":"text-gray-900"}`,children:t.name})}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 h-10 overflow-hidden ${r?"text-gray-300":"text-gray-600"}`,children:t.description||"No description available"}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("span",{className:`font-bold text-lg ${r?"text-white":"text-gray-900"}`,children:["$",Number(t.price).toFixed(2)]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.stock>10?r?"bg-green-900/30 text-green-400":"bg-green-100 text-green-800":t.stock>0?r?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-800":r?"bg-red-900/30 text-red-400":"bg-red-100 text-red-800"}`,children:t.stock>10?"In Stock":t.stock>0?"Low Stock":"Out of Stock"})]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsx(d,{to:`/products/${t.id}`,className:`flex-1 py-2 px-4 rounded font-medium text-center border transition-colors ${r?"border-indigo-500 text-indigo-400 hover:bg-indigo-500 hover:text-white":"border-indigo-600 text-indigo-600 hover:bg-indigo-600 hover:text-white"}`,children:"View Details"}),e.jsx("button",{className:`flex-1 py-2 px-4 rounded font-medium ${t.stock>0?"bg-indigo-600 hover:bg-indigo-700 text-white":r?"bg-gray-600 cursor-not-allowed text-gray-300":"bg-gray-300 cursor-not-allowed text-gray-500"}`,disabled:t.stock<=0,children:t.stock>0?"Add to Cart":"Out of Stock"})]})]}),W=({product:t,darkMode:r})=>t?e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-8 rounded-lg overflow-hidden border ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} shadow-lg p-6 mb-10`,children:[e.jsx(d,{to:`/products/${t.id}`,className:"block",children:e.jsx("div",{className:`h-80 ${r?"bg-gray-700":"bg-gray-100"} rounded-lg overflow-hidden flex items-center justify-center hover:scale-105 transition-transform duration-300`,children:t.imageUrl?e.jsx("img",{src:t.imageUrl,alt:t.name,className:"h-full w-full object-cover"}):e.jsx("svg",{className:"w-24 h-24",fill:r?"#4B5563":"#D1D5DB",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium w-fit mb-2 ${r?"bg-indigo-900/30 text-indigo-400":"bg-indigo-100 text-indigo-700"}`,children:"Featured Product"}),e.jsx(d,{to:`/products/${t.id}`,children:e.jsx("h2",{className:`text-2xl font-bold mb-2 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors ${r?"text-white":"text-gray-900"}`,children:t.name})}),e.jsx("p",{className:`mb-4 ${r?"text-gray-300":"text-gray-600"}`,children:t.description||"No description available"}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("span",{className:`text-2xl font-bold ${r?"text-white":"text-gray-900"}`,children:["$",Number(t.price).toFixed(2)]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.stock>10?r?"bg-green-900/30 text-green-400":"bg-green-100 text-green-800":t.stock>0?r?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-800":r?"bg-red-900/30 text-red-400":"bg-red-100 text-red-800"}`,children:t.stock>10?"In Stock":t.stock>0?"Low Stock":"Out of Stock"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{className:`py-2 px-6 rounded-lg font-medium ${t.stock>0?"bg-indigo-600 hover:bg-indigo-700 text-white":r?"bg-gray-600 cursor-not-allowed text-gray-300":"bg-gray-300 cursor-not-allowed text-gray-500"}`,disabled:t.stock<=0,children:t.stock>0?"Add to Cart":"Out of Stock"}),e.jsx(d,{to:`/products/${t.id}`,className:`py-2 px-6 rounded-lg font-medium transition-colors ${r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-900"}`,children:"View Details"})]})]})]}):null,z=()=>{const{darkMode:t,toggleDarkMode:r}=P(),[b,w]=l.useState([]),[N,$]=l.useState([]),[u,S]=l.useState(null),[c,k]=l.useState(""),[g,C]=l.useState(""),[n,L]=l.useState("default"),[y,m]=l.useState(!0),[h,D]=l.useState(null);return l.useEffect(()=>{async function a(){try{m(!0);const x=A(H,"products");let f=x;c&&(f=T(x,O("category","==",c)));let i=(await U(f)).docs.map(s=>({id:s.id,...s.data()}));const B=[...new Set(i.map(s=>s.category).filter(Boolean))];if($(B),g.trim()){const s=g.toLowerCase();i=i.filter(o=>{var j,p,v;return((j=o.name)==null?void 0:j.toLowerCase().includes(s))||((p=o.description)==null?void 0:p.toLowerCase().includes(s))||((v=o.category)==null?void 0:v.toLowerCase().includes(s))})}n==="price_asc"?i.sort((s,o)=>(s.price||0)-(o.price||0)):n==="price_desc"?i.sort((s,o)=>(o.price||0)-(s.price||0)):n==="name_asc"?i.sort((s,o)=>(s.name||"").localeCompare(o.name||"")):n==="name_desc"&&i.sort((s,o)=>(o.name||"").localeCompare(s.name||""));const F=i.find(s=>s.imageUrl);S(F||i[0]||null),w(i),m(!1)}catch(x){console.error("Failed to load products:",x),D("Failed to load products. Please try again later."),m(!1)}}a()},[c,g,n]),e.jsxs("div",{className:`container mx-auto px-4 py-8 ${t?"text-white":"text-gray-800"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl md:text-4xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:"Welcome to Wholesaler"}),e.jsx("p",{className:`${t?"text-gray-300":"text-gray-600"}`,children:"Browse our premium inventory and find quality products at wholesale prices"})]}),e.jsx(_,{className:"ml-4"})]}),u&&e.jsx(W,{product:u,darkMode:t}),e.jsx("div",{className:`mb-8 p-4 rounded-lg shadow-md ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} border`,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{htmlFor:"search",className:`block text-sm font-medium ${t?"text-gray-300":"text-gray-700"} mb-1`,children:"Search Products"}),e.jsxs("div",{className:"relative rounded-md shadow-sm",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",id:"search",className:`focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm rounded-md ${t?"bg-gray-700 border-gray-600 text-gray-100 placeholder-gray-400":"border-gray-300"}`,placeholder:"Search by name, description or category",value:g,onChange:a=>C(a.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:`block text-sm font-medium ${t?"text-gray-300":"text-gray-700"} mb-1`,children:"Category"}),e.jsxs("select",{id:"category",className:`mt-1 block w-full pl-3 pr-10 py-2 text-base rounded-md ${t?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-300"} focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`,value:c,onChange:a=>k(a.target.value),children:[e.jsx("option",{value:"",children:"All Categories"}),N.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sort",className:`block text-sm font-medium ${t?"text-gray-300":"text-gray-700"} mb-1`,children:"Sort By"}),e.jsxs("select",{id:"sort",className:`mt-1 block w-full pl-3 pr-10 py-2 text-base rounded-md ${t?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-300"} focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm`,value:n,onChange:a=>L(a.target.value),children:[e.jsx("option",{value:"default",children:"Default"}),e.jsx("option",{value:"price_asc",children:"Price: Low to High"}),e.jsx("option",{value:"price_desc",children:"Price: High to Low"}),e.jsx("option",{value:"name_asc",children:"Name: A to Z"}),e.jsx("option",{value:"name_desc",children:"Name: Z to A"})]})]})]})}),y&&e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 ${t?"border-indigo-400":"border-indigo-500"}`})}),h&&e.jsx("div",{className:`${t?"bg-red-900/30 border-red-800 text-red-400":"bg-red-50 border-red-400 text-red-700"} p-4 rounded-lg mb-8 border-l-4`,children:h}),!y&&!h&&e.jsx(e.Fragment,{children:b.length===0?e.jsxs("div",{className:`text-center py-12 rounded-lg ${t?"bg-gray-800 border-gray-700":"bg-gray-50 border-gray-200"} border`,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-12 w-12 mx-auto ${t?"text-gray-600":"text-gray-400"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("h3",{className:`mt-4 text-lg font-medium ${t?"text-gray-300":"text-gray-900"}`,children:"No products found"}),e.jsx("p",{className:`mt-2 ${t?"text-gray-400":"text-gray-500"}`,children:"Try changing your search criteria or check back later for new products."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:b.map(a=>e.jsx(V,{product:a,darkMode:t},a.id))})}),e.jsx("div",{className:`mt-16 p-6 rounded-lg shadow-md border ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsxs("div",{className:"md:flex-1",children:[e.jsx("h2",{className:`text-xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Create an Account"}),e.jsx("p",{className:`mt-2 ${t?"text-gray-300":"text-gray-600"}`,children:"Register to access wholesale pricing, place orders, and manage your inventory."})]}),e.jsx("div",{className:"mt-4 md:mt-0",children:e.jsx("a",{href:"/login",className:"inline-block px-6 py-3 rounded-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Sign Up Now"})})]})})]})};export{z as default};
