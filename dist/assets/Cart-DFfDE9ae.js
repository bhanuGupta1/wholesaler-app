import{O as p,u as j,a as v,h as N,r as u,j as e,L as d}from"./index-BBVZjf1E.js";const C=()=>{const{cart:s,removeFromCart:g,clearCart:x,updateQuantity:r}=p(),{darkMode:t}=j(),{user:i}=v(),a=N(),[n,l]=u.useState(!1),h=s.reduce((o,c)=>o+c.price*c.quantity,0),m=h*.1,y=h+m,b=()=>{i?a("/checkout"):a("/login",{state:{from:{pathname:"/checkout"}}})},f=()=>{i?a("/create-order",{state:{fromCart:!0}}):a("/login",{state:{from:{pathname:"/create-order",state:{fromCart:!0}}}})};return s.length===0?e.jsx("div",{className:`min-h-screen ${t?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-900"}`,children:"Shopping Cart"}),e.jsx(d,{to:"/catalog",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:"Continue Shopping"})]}),e.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-md p-12 text-center`,children:[e.jsx("div",{className:"text-8xl mb-4",children:"🛒"}),e.jsx("h2",{className:`text-2xl font-semibold ${t?"text-gray-200":"text-gray-900"} mb-2`,children:"Your cart is empty"}),e.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"} mb-6`,children:"Looks like you haven't added any products to your cart yet."}),e.jsxs(d,{to:"/catalog",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m2.6 8L6 5H3m4 8a2 2 0 100 4 2 2 0 000-4zm10 0a2 2 0 100 4 2 2 0 000-4z"})}),"Start Shopping"]})]})]})})}):e.jsxs("div",{className:`min-h-screen ${t?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:[e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-900"}`,children:["Shopping Cart (",s.length," ",s.length===1?"item":"items",")"]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(d,{to:"/catalog",className:`inline-flex items-center px-4 py-2 border ${t?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors`,children:"Continue Shopping"}),e.jsx("button",{onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:"Clear Cart"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} rounded-xl shadow-md border overflow-hidden`,children:e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.map((o,c)=>e.jsx(w,{item:o,onRemove:g,onUpdateQuantity:r,darkMode:t},o.id))})})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} rounded-xl shadow-md border p-6 sticky top-4`,children:[e.jsx("h2",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"} mb-4`,children:"Order Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:`${t?"text-gray-300":"text-gray-600"}`,children:["Subtotal (",s.reduce((o,c)=>o+c.quantity,0)," items):"]}),e.jsxs("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:["$",h.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`${t?"text-gray-300":"text-gray-600"}`,children:"Tax (10%):"}),e.jsxs("span",{className:`font-medium ${t?"text-white":"text-gray-900"}`,children:["$",m.toFixed(2)]})]}),e.jsx("div",{className:`border-t ${t?"border-gray-600":"border-gray-200"} pt-3`,children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:"Total:"}),e.jsxs("span",{className:`text-lg font-bold ${t?"text-white":"text-gray-900"}`,children:["$",y.toFixed(2)]})]})})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsx("button",{onClick:b,className:"w-full py-3 px-4 bg-indigo-600 text-white text-base font-medium rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:i?"Quick Checkout":"Sign In to Checkout"}),e.jsx("button",{onClick:f,className:`w-full py-3 px-4 border-2 border-indigo-600 text-indigo-600 text-base font-medium rounded-lg hover:bg-indigo-600 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors ${t?"hover:border-indigo-500":""}`,children:i?"Advanced Order":"Sign In for Advanced Order"}),!i&&e.jsx("p",{className:`text-xs text-center ${t?"text-gray-400":"text-gray-500"}`,children:"You'll be redirected to sign in before proceeding"})]}),e.jsxs("div",{className:`mt-4 p-3 rounded-lg ${t?"bg-gray-700":"bg-gray-50"} text-xs`,children:[e.jsx("h4",{className:`font-medium ${t?"text-gray-200":"text-gray-700"} mb-2`,children:"Checkout Options:"}),e.jsxs("ul",{className:`space-y-1 ${t?"text-gray-300":"text-gray-600"}`,children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Quick Checkout:"})," Fast, streamlined process"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Advanced Order:"})," More options & business features"]})]})]}),e.jsxs("div",{className:`mt-4 p-3 rounded-lg ${t?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"} border text-xs`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:`h-4 w-4 mr-2 ${t?"text-green-400":"text-green-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("span",{className:`font-medium ${t?"text-green-400":"text-green-700"}`,children:"Secure Checkout"})]}),e.jsx("p",{className:`${t?"text-green-300":"text-green-600"} mt-1`,children:"Your payment information is encrypted and secure"})]})]})})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-xl p-6 max-w-md w-full mx-4`,children:[e.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"} mb-2`,children:"Clear Cart"}),e.jsx("p",{className:`${t?"text-gray-300":"text-gray-600"} mb-6`,children:"Are you sure you want to remove all items from your cart? This action cannot be undone."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>l(!1),className:`flex-1 py-2 px-4 border ${t?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"} rounded-lg transition-colors`,children:"Cancel"}),e.jsx("button",{onClick:()=>{x(),l(!1)},className:"flex-1 py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear Cart"})]})]})})]})},w=({item:s,onRemove:g,onUpdateQuantity:x,darkMode:r})=>{const[t,i]=u.useState(s.quantity),a=n=>{n>=1&&n<=s.stock&&(i(n),x&&x(s.id,n))};return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(d,{to:`/products/${s.id}`,className:"flex-shrink-0",children:e.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden",children:s.imageUrl?e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("span",{className:"text-2xl",children:"📦"})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(d,{to:`/products/${s.id}`,children:e.jsx("h3",{className:`font-semibold ${r?"text-white hover:text-indigo-400":"text-gray-900 hover:text-indigo-600"} mb-1 transition-colors`,children:s.name})}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("span",{className:`font-medium ${r?"text-indigo-400":"text-indigo-600"}`,children:["$",Number(s.price).toFixed(2)]}),s.category&&e.jsx("span",{className:`px-2 py-1 rounded text-xs ${r?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-600"}`,children:s.category}),e.jsxs("span",{className:`${r?"text-gray-400":"text-gray-500"}`,children:[s.stock," available"]})]}),t>=s.stock*.8&&e.jsx("p",{className:`text-xs mt-1 ${r?"text-yellow-400":"text-yellow-600"}`,children:"⚠️ Limited stock available"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>a(t-1),disabled:t<=1,className:`w-8 h-8 rounded-full ${t<=1?"bg-gray-200 text-gray-400 cursor-not-allowed dark:bg-gray-700 dark:text-gray-500":r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"} flex items-center justify-center text-sm transition-colors`,children:"−"}),e.jsx("input",{type:"number",min:"1",max:s.stock,value:t,onChange:n=>{const l=parseInt(n.target.value)||1;a(l)},className:`w-16 text-center py-1 px-2 border rounded-lg ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`}),e.jsx("button",{onClick:()=>a(t+1),disabled:t>=s.stock,className:`w-8 h-8 rounded-full ${t>=s.stock?"bg-gray-200 text-gray-400 cursor-not-allowed dark:bg-gray-700 dark:text-gray-500":r?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"} flex items-center justify-center text-sm transition-colors`,children:"+"})]}),e.jsxs("div",{className:"text-right min-w-0",children:[e.jsxs("div",{className:`font-semibold ${r?"text-white":"text-gray-900"}`,children:["$",(s.price*t).toFixed(2)]}),t>1&&e.jsxs("div",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:["$",s.price.toFixed(2)," each"]})]}),e.jsx("button",{onClick:()=>g(s.id),className:`p-2 rounded-lg ${r?"text-gray-400 hover:text-red-400 hover:bg-red-900/20":"text-gray-400 hover:text-red-600 hover:bg-red-50"} transition-colors`,title:"Remove from cart",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})})};export{C as default};
