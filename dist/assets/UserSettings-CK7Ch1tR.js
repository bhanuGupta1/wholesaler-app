import{a as N,u as S,r as h,j as e,M as D,e as y,d as f,Z as C}from"./index-Cayz1xms.js";const Y=()=>{var b;const{user:r}=N(),{darkMode:s,toggleDarkMode:j}=S(),[m,p]=h.useState(!1),[u,c]=h.useState({type:"",text:""}),[i,x]=h.useState({language:"en",timezone:"UTC",dateFormat:"MM/DD/YYYY",currency:"USD",emailNotifications:!0,orderUpdates:!0,promotionalEmails:!1,weeklyNewsletter:!1,profileVisibility:"private",shareActivity:!1,itemsPerPage:20,defaultSortOrder:"newest",autoRefresh:!0,compactView:!1});h.useEffect(()=>{(async()=>{if(r)try{const l=await D(y(f,"userSettings",r.uid));if(l.exists()){const o=l.data();x(g=>({...g,...o}))}}catch(l){console.error("Error loading settings:",l)}})()},[r]);const v=async()=>{p(!0),c({type:"",text:""}),console.log("Attempting to save settings for user:",r==null?void 0:r.uid);try{await C(y(f,"userSettings",r.uid),{...i,updatedAt:new Date,userId:r.uid,createdAt:new Date},{merge:!0}),console.log("Settings saved successfully!"),c({type:"success",text:"Settings saved successfully!"})}catch(t){console.error("Detailed error saving settings:",t),console.error("Error code:",t.code),console.error("Error message:",t.message),c({type:"error",text:`Failed to save settings: ${t.message}`})}finally{p(!1)}},a=(t,l)=>{x(o=>({...o,[t]:l}))},w=()=>{x({language:"en",timezone:"UTC",dateFormat:"MM/DD/YYYY",currency:"USD",emailNotifications:!0,orderUpdates:!0,promotionalEmails:!1,weeklyNewsletter:!1,profileVisibility:"private",shareActivity:!1,itemsPerPage:20,defaultSortOrder:"newest",autoRefresh:!0,compactView:!1}),c({type:"success",text:"Settings reset to defaults!"})},d=({title:t,description:l,children:o})=>e.jsxs("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} rounded-lg border p-6`,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t}),l&&e.jsx("p",{className:`text-sm mt-1 ${s?"text-gray-400":"text-gray-600"}`,children:l})]}),o]}),n=({checked:t,onChange:l,label:o,description:g})=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o}),g&&e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:g})]}),e.jsx("button",{onClick:()=>l(!t),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ${t?"bg-indigo-600":s?"bg-gray-600":"bg-gray-200"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${t?"translate-x-5":"translate-x-0"}`})})]});return e.jsx("div",{className:`min-h-screen ${s?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:e.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),e.jsx("p",{className:`mt-1 text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"Customize your experience and manage your preferences"})]}),u.text&&e.jsx("div",{className:`mb-6 p-4 rounded-lg ${u.type==="success"?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`,children:u.text}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(d,{title:"üé® Appearance",description:"Customize how the app looks and feels",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{checked:s,onChange:j,label:"Dark Mode",description:"Switch between light and dark themes"}),e.jsx(n,{checked:i.compactView,onChange:t=>a("compactView",t),label:"Compact View",description:"Show more content in less space"}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-2",children:"Language"}),e.jsxs("select",{value:i.language,onChange:t=>a("language",t.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"hi",children:"‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)"}),e.jsx("option",{value:"fr",children:"Fran√ßais (French)"}),e.jsx("option",{value:"de",children:"Deutsch (German)"})]})]})]})}),e.jsx(d,{title:"üåç Regional Settings",description:"Set your location and format preferences",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-2",children:"Timezone"}),e.jsxs("select",{value:i.timezone,onChange:t=>a("timezone",t.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"EST",children:"Eastern Time"}),e.jsx("option",{value:"PST",children:"Pacific Time"}),e.jsx("option",{value:"CST",children:"Central Time"}),e.jsx("option",{value:"MST",children:"Mountain Time"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-2",children:"Date Format"}),e.jsxs("select",{value:i.dateFormat,onChange:t=>a("dateFormat",t.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-2",children:"Currency"}),e.jsxs("select",{value:i.currency,onChange:t=>a("currency",t.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR (‚Ç¨)"}),e.jsx("option",{value:"GBP",children:"GBP (¬£)"}),e.jsx("option",{value:"CAD",children:"CAD ($)"}),e.jsx("option",{value:"AUD",children:"AUD ($)"})]})]})]})}),e.jsx(d,{title:"üîî Notifications",description:"Choose what notifications you want to receive",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{checked:i.emailNotifications,onChange:t=>a("emailNotifications",t),label:"Email Notifications",description:"Receive important updates via email"}),e.jsx(n,{checked:i.orderUpdates,onChange:t=>a("orderUpdates",t),label:"Order Updates",description:"Get notified about order status changes"}),e.jsx(n,{checked:i.promotionalEmails,onChange:t=>a("promotionalEmails",t),label:"Promotional Emails",description:"Receive special offers and deals"}),e.jsx(n,{checked:i.weeklyNewsletter,onChange:t=>a("weeklyNewsletter",t),label:"Weekly Newsletter",description:"Get weekly updates and featured products"})]})}),e.jsx(d,{title:"üîí Privacy",description:"Control your privacy and data sharing preferences",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-2",children:"Profile Visibility"}),e.jsxs("select",{value:i.profileVisibility,onChange:t=>a("profileVisibility",t.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[e.jsx("option",{value:"public",children:"Public - Everyone can see"}),e.jsx("option",{value:"friends",children:"Friends Only"}),e.jsx("option",{value:"private",children:"Private - Only me"})]})]}),e.jsx(n,{checked:i.shareActivity,onChange:t=>a("shareActivity",t),label:"Share Activity",description:"Allow others to see your recent activity"})]})}),e.jsx(d,{title:"‚öôÔ∏è App Preferences",description:"Customize how the app behaves",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-2",children:"Items Per Page"}),e.jsxs("select",{value:i.itemsPerPage,onChange:t=>a("itemsPerPage",parseInt(t.target.value)),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[e.jsx("option",{value:10,children:"10 items"}),e.jsx("option",{value:20,children:"20 items"}),e.jsx("option",{value:50,children:"50 items"}),e.jsx("option",{value:100,children:"100 items"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-2",children:"Default Sort Order"}),e.jsxs("select",{value:i.defaultSortOrder,onChange:t=>a("defaultSortOrder",t.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 ${s?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"}),e.jsx("option",{value:"alphabetical",children:"Alphabetical"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]}),e.jsx(n,{checked:i.autoRefresh,onChange:t=>a("autoRefresh",t),label:"Auto Refresh",description:"Automatically refresh data every few minutes"})]})}),e.jsx(d,{title:"üõ†Ô∏è Advanced",description:"Advanced options and data management",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-gray-700":"bg-gray-100"}`,children:[e.jsx("h4",{className:"font-medium mb-2",children:"Account Information"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User ID:"})," ",r==null?void 0:r.uid]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Type:"})," ",((b=r==null?void 0:r.accountType)==null?void 0:b.toUpperCase())||"USER"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email Verified:"})," ",r!=null&&r.emailVerified?"‚úÖ Yes":"‚ùå No"]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3 text-red-600 dark:text-red-400",children:"‚ö†Ô∏è Danger Zone"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:w,className:`px-4 py-2 rounded-lg font-medium transition-colors ${s?"bg-yellow-700 hover:bg-yellow-600 text-white":"bg-yellow-500 hover:bg-yellow-600 text-white"}`,children:"Reset to Defaults"}),e.jsx("div",{className:`p-3 rounded-lg ${s?"bg-red-900/20":"bg-red-50"} border border-red-200`,children:e.jsxs("p",{className:"text-sm text-red-700 dark:text-red-300",children:[e.jsx("strong",{children:"Note:"})," Resetting will restore all settings to their default values. This action cannot be undone."]})})]})]})]})})]}),e.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:`px-6 py-2 rounded-lg font-medium transition-colors ${s?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-500 hover:bg-gray-600 text-white"}`,children:"Cancel"}),e.jsx("button",{onClick:v,disabled:m,className:"px-6 py-2 rounded-lg font-medium transition-colors bg-indigo-600 hover:bg-indigo-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Saving...":"Save Settings"})]}),e.jsxs("div",{className:`mt-6 p-4 rounded-lg ${s?"bg-blue-900/20":"bg-blue-50"} border border-blue-200`,children:[e.jsx("h3",{className:"text-sm font-medium mb-2 text-blue-800 dark:text-blue-200",children:"üí° Settings Tips"}),e.jsxs("ul",{className:"text-xs space-y-1 text-blue-700 dark:text-blue-300",children:[e.jsx("li",{children:"‚Ä¢ Settings are automatically saved to your account"}),e.jsx("li",{children:"‚Ä¢ Your preferences will sync across all your devices"}),e.jsx("li",{children:"‚Ä¢ Some changes may require a page refresh to take effect"}),e.jsx("li",{children:"‚Ä¢ You can reset to defaults anytime if needed"})]})]})]})})};export{Y as default};
