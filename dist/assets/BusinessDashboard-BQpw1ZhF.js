import{s as O,p as F,c as C,d as $,b as R,e as q,a as U,u as A,r as h,j as e,g as T,L as v}from"./index-l2F0ffZz.js";const B=async(r,s={})=>{try{const l={userId:r,currentType:"buyer",requestedType:"seller",status:"pending",requestedAt:O(),...s},i=await F(C($,"upgradeRequests"),l);return await R(q($,"users",r),{upgradeStatus:"pending_seller_upgrade",upgradeRequestId:i.id,updatedAt:O()}),{success:!0,requestId:i.id,message:"Upgrade request submitted successfully"}}catch(l){throw console.error("Error requesting seller upgrade:",l),new Error("Failed to submit upgrade request")}},P=r=>(r==null?void 0:r.upgradeStatus)==="pending_seller_upgrade",E=r=>{switch(r==null?void 0:r.upgradeStatus){case"pending_seller_upgrade":return"Your seller upgrade request is pending admin approval.";case"upgrade_approved":return"Your upgrade has been approved! You are now a seller.";case"upgrade_rejected":return"Your upgrade request was rejected. Contact support for details.";default:return null}},L=({isOpen:r,onClose:s,onSuccess:l})=>{const{user:i}=U(),{darkMode:t}=A(),[m,g]=h.useState(!1),[p,u]=h.useState(""),[a,f]=h.useState({businessDescription:"",productCategories:[],estimatedMonthlyRevenue:"",reasonForUpgrade:"",hasExperience:!1,agreeToTerms:!1}),S=["Electronics","Clothing & Fashion","Home & Garden","Health & Beauty","Sports & Outdoors","Automotive","Books & Media","Food & Beverages","Industrial Supplies","Office Supplies","Arts & Crafts","Other"],b=o=>{const{name:x,value:j,type:d,checked:c}=o.target;f(n=>({...n,[x]:d==="checkbox"?c:j}))},N=o=>{f(x=>({...x,productCategories:x.productCategories.includes(o)?x.productCategories.filter(j=>j!==o):[...x.productCategories,o]}))},w=async o=>{if(o.preventDefault(),!a.agreeToTerms){u("Please agree to the seller terms and conditions");return}if(a.productCategories.length===0){u("Please select at least one product category");return}g(!0),u("");try{await B(i.uid,{businessDescription:a.businessDescription,productCategories:a.productCategories,estimatedMonthlyRevenue:a.estimatedMonthlyRevenue,reasonForUpgrade:a.reasonForUpgrade,hasExperience:a.hasExperience,businessName:i.businessName,currentBusinessType:i.businessType}),l==null||l(),s()}catch(x){u(x.message||"Failed to submit upgrade request")}finally{g(!1)}};return r?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto`,children:[e.jsx("div",{className:`px-6 py-4 border-b ${t?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:"üöÄ Upgrade to Seller Account"}),e.jsx("button",{onClick:s,className:`${t?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-500"}`,children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:`mb-6 p-4 rounded-lg ${t?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"} border`,children:[e.jsx("h3",{className:`font-semibold mb-3 ${t?"text-green-300":"text-green-800"}`,children:"‚ú® What You'll Get as a Seller"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:`text-sm ${t?"text-green-200":"text-green-700"}`,children:[e.jsx("div",{children:"‚úÖ List unlimited products"}),e.jsx("div",{children:"‚úÖ Real-time inventory management"}),e.jsx("div",{children:"‚úÖ Advanced order processing"})]}),e.jsxs("div",{className:`text-sm ${t?"text-green-200":"text-green-700"}`,children:[e.jsx("div",{children:"‚úÖ Detailed sales analytics"}),e.jsx("div",{children:"‚úÖ Customer management tools"}),e.jsx("div",{children:"‚úÖ Priority support"})]})]})]}),p&&e.jsx("div",{className:`mb-4 p-4 rounded-lg ${t?"bg-red-900/20 border-red-800":"bg-red-50 border-red-200"} border`,children:e.jsx("p",{className:`text-sm ${t?"text-red-300":"text-red-700"}`,children:p})}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Business Description *"}),e.jsx("textarea",{name:"businessDescription",value:a.businessDescription,onChange:b,required:!0,rows:3,className:`w-full px-3 py-2 border rounded-lg ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} focus:ring-2 focus:ring-orange-500 focus:border-orange-500`,placeholder:"Describe your business and what you plan to sell..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-3 ${t?"text-gray-300":"text-gray-700"}`,children:"Product Categories * (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:S.map(o=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.productCategories.includes(o),onChange:()=>N(o),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:`ml-2 text-sm ${t?"text-gray-300":"text-gray-700"}`,children:o})]},o))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Estimated Monthly Revenue"}),e.jsxs("select",{name:"estimatedMonthlyRevenue",value:a.estimatedMonthlyRevenue,onChange:b,className:`w-full px-3 py-2 border rounded-lg ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} focus:ring-2 focus:ring-orange-500 focus:border-orange-500`,children:[e.jsx("option",{value:"",children:"Select range..."}),e.jsx("option",{value:"under-1k",children:"Under $1,000"}),e.jsx("option",{value:"1k-5k",children:"$1,000 - $5,000"}),e.jsx("option",{value:"5k-10k",children:"$5,000 - $10,000"}),e.jsx("option",{value:"10k-25k",children:"$10,000 - $25,000"}),e.jsx("option",{value:"25k-50k",children:"$25,000 - $50,000"}),e.jsx("option",{value:"over-50k",children:"Over $50,000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Why do you want to become a seller?"}),e.jsx("textarea",{name:"reasonForUpgrade",value:a.reasonForUpgrade,onChange:b,rows:2,className:`w-full px-3 py-2 border rounded-lg ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} focus:ring-2 focus:ring-orange-500 focus:border-orange-500`,placeholder:"Tell us about your goals and motivation..."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"hasExperience",checked:a.hasExperience,onChange:b,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("label",{className:`ml-2 text-sm ${t?"text-gray-300":"text-gray-700"}`,children:"I have previous experience selling products online"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",name:"agreeToTerms",checked:a.agreeToTerms,onChange:b,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500 mt-1"}),e.jsxs("label",{className:`ml-2 text-sm ${t?"text-gray-300":"text-gray-700"}`,children:["I agree to the"," ",e.jsx("a",{href:"#",className:`${t?"text-orange-400 hover:text-orange-300":"text-orange-600 hover:text-orange-700"} underline`,children:"Seller Terms and Conditions"})," ","and understand that my upgrade request will be reviewed by admin"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:m,className:`flex-1 py-3 px-6 rounded-lg font-medium text-white transition-colors ${m?"bg-gray-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"}`,children:m?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),"Submitting Request..."]}):"Submit Upgrade Request"}),e.jsx("button",{type:"button",onClick:s,className:`flex-1 py-3 px-6 rounded-lg font-medium border transition-colors ${t?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"})]})]})]})]})}):null},I=({stats:r,darkMode:s})=>{var l,i;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} rounded-xl shadow-md border p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-500"} uppercase tracking-wide`,children:"Products Listed"}),e.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"} mt-1`,children:r.totalProducts||0})]}),e.jsx("div",{className:`text-3xl p-3 rounded-full bg-blue-${s?"900/30":"100"}`,children:"üì¶"})]})}),e.jsx("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} rounded-xl shadow-md border p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-500"} uppercase tracking-wide`,children:"Sales This Month"}),e.jsxs("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"} mt-1`,children:["$",((l=r.monthlySales)==null?void 0:l.toFixed(0))||"0"]})]}),e.jsx("div",{className:`text-3xl p-3 rounded-full bg-green-${s?"900/30":"100"}`,children:"üí∞"})]})}),e.jsx("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} rounded-xl shadow-md border p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-500"} uppercase tracking-wide`,children:"Active Orders"}),e.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"} mt-1`,children:r.activeOrders||0})]}),e.jsx("div",{className:`text-3xl p-3 rounded-full bg-orange-${s?"900/30":"100"}`,children:"üìã"})]})}),e.jsx("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} rounded-xl shadow-md border p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-500"} uppercase tracking-wide`,children:"Customer Rating"}),e.jsxs("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"} mt-1`,children:[((i=r.rating)==null?void 0:i.toFixed(1))||"5.0"," ‚≠ê"]})]}),e.jsx("div",{className:`text-3xl p-3 rounded-full bg-purple-${s?"900/30":"100"}`,children:"‚≠ê"})]})})]}),e.jsxs("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} rounded-xl shadow-lg border p-6`,children:[e.jsx("h2",{className:`text-xl font-bold ${s?"text-white":"text-gray-800"} mb-4`,children:"Seller Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(v,{to:"/inventory",className:"flex items-center p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx("div",{className:"text-2xl mr-3",children:"üì¶"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Manage Inventory"}),e.jsx("p",{className:"text-sm opacity-90",children:"View and edit products"})]})]}),e.jsxs(v,{to:"/add-product",className:"flex items-center p-4 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[e.jsx("div",{className:"text-2xl mr-3",children:"‚ûï"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Add Product"}),e.jsx("p",{className:"text-sm opacity-90",children:"List new products"})]})]}),e.jsxs(v,{to:"/orders",className:"flex items-center p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx("div",{className:"text-2xl mr-3",children:"üìã"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Process Orders"}),e.jsx("p",{className:"text-sm opacity-90",children:"Manage incoming orders"})]})]}),e.jsxs("button",{className:"flex items-center p-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx("div",{className:"text-2xl mr-3",children:"üìä"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"View Analytics"}),e.jsx("p",{className:"text-sm opacity-90",children:"Sales performance data"})]})]})]})]})]})},_=({stats:r,darkMode:s,user:l,onUpgradeSuccess:i})=>{var u,a;const[t,m]=h.useState(!1),g=P(l),p=E(l);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[g&&e.jsx("div",{className:`${s?"bg-yellow-900/20 border-yellow-800":"bg-yellow-50 border-yellow-200"} rounded-xl border p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-2xl mr-3",children:"‚è≥"}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-medium ${s?"text-yellow-300":"text-yellow-800"}`,children:"Upgrade Request Pending"}),e.jsx("p",{className:`text-sm ${s?"text-yellow-200":"text-yellow-700"}`,children:p})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} rounded-xl shadow-md border p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-500"} uppercase tracking-wide`,children:"Total Orders"}),e.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"} mt-1`,children:r.totalOrders||0})]}),e.jsx("div",{className:`text-3xl p-3 rounded-full bg-blue-${s?"900/30":"100"}`,children:"üõí"})]})}),e.jsx("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} rounded-xl shadow-md border p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-500"} uppercase tracking-wide`,children:"Total Spent"}),e.jsxs("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"} mt-1`,children:["$",((u=r.totalSpent)==null?void 0:u.toFixed(0))||"0"]}),e.jsx("p",{className:`text-sm ${s?"text-green-400":"text-green-600"} mt-1`,children:"15% bulk discount applied"})]}),e.jsx("div",{className:`text-3xl p-3 rounded-full bg-green-${s?"900/30":"100"}`,children:"üí∞"})]})}),e.jsx("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} rounded-xl shadow-md border p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-500"} uppercase tracking-wide`,children:"Avg Order Value"}),e.jsxs("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"} mt-1`,children:["$",((a=r.avgOrderValue)==null?void 0:a.toFixed(2))||"0.00"]})]}),e.jsx("div",{className:`text-3xl p-3 rounded-full bg-purple-${s?"900/30":"100"}`,children:"üìä"})]})}),e.jsx("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} rounded-xl shadow-md border p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-500"} uppercase tracking-wide`,children:"Active Subscriptions"}),e.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"} mt-1`,children:r.subscriptions||0})]}),e.jsx("div",{className:`text-3xl p-3 rounded-full bg-indigo-${s?"900/30":"100"}`,children:"üîÑ"})]})})]}),e.jsxs("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} rounded-xl shadow-lg border p-6`,children:[e.jsx("h2",{className:`text-xl font-bold ${s?"text-white":"text-gray-800"} mb-4`,children:"Buyer Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs(v,{to:"/catalog",className:"flex items-center p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx("div",{className:"text-2xl mr-3",children:"üõí"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Browse Products"}),e.jsx("p",{className:"text-sm opacity-90",children:"Find products to purchase"})]})]}),e.jsxs(v,{to:"/orders",className:"flex items-center p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx("div",{className:"text-2xl mr-3",children:"üìã"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"My Orders"}),e.jsx("p",{className:"text-sm opacity-90",children:"Track order history"})]})]}),e.jsxs(v,{to:"/cart",className:"flex items-center p-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[e.jsx("div",{className:"text-2xl mr-3",children:"üõçÔ∏è"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Shopping Cart"}),e.jsx("p",{className:"text-sm opacity-90",children:"Review selected items"})]})]})]})]}),!g&&e.jsx("div",{className:`${s?"bg-gradient-to-r from-orange-900/20 to-red-900/20 border-orange-800":"bg-gradient-to-r from-orange-50 to-red-50 border-orange-200"} rounded-xl border p-6`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"text-4xl",children:"üöÄ"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-lg font-bold ${s?"text-orange-300":"text-orange-800"} mb-2`,children:"Become a Seller & Grow Your Business"}),e.jsx("p",{className:`${s?"text-orange-200":"text-orange-700"} mb-4`,children:"Unlock powerful selling features and start earning revenue by listing your products on our platform."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-orange-900/30":"bg-orange-100"}`,children:[e.jsx("h4",{className:`font-medium ${s?"text-orange-300":"text-orange-800"} mb-2`,children:"‚ú® Seller Benefits"}),e.jsxs("ul",{className:`text-sm space-y-1 ${s?"text-orange-200":"text-orange-700"}`,children:[e.jsx("li",{children:"‚Ä¢ List unlimited products"}),e.jsx("li",{children:"‚Ä¢ Manage inventory in real-time"}),e.jsx("li",{children:"‚Ä¢ Process orders efficiently"}),e.jsx("li",{children:"‚Ä¢ Access detailed analytics"})]})]}),e.jsxs("div",{className:`p-4 rounded-lg ${s?"bg-red-900/30":"bg-red-100"}`,children:[e.jsx("h4",{className:`font-medium ${s?"text-red-300":"text-red-800"} mb-2`,children:"üéØ Locked Features"}),e.jsxs("ul",{className:`text-sm space-y-1 ${s?"text-red-200":"text-red-700"}`,children:[e.jsx("li",{children:"üîí Product Management"}),e.jsx("li",{children:"üîí Inventory Tracking"}),e.jsx("li",{children:"üîí Order Processing"}),e.jsx("li",{children:"üîí Seller Analytics"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium",children:"Upgrade to Seller Account"}),e.jsx("button",{className:`px-6 py-3 border rounded-lg font-medium transition-colors ${s?"border-orange-600 text-orange-400 hover:bg-orange-900/20":"border-orange-600 text-orange-600 hover:bg-orange-50"}`,children:"Learn More About Selling"})]})]})]})})]}),e.jsx(L,{isOpen:t,onClose:()=>m(!1),onSuccess:i})]})},Y=()=>{const{darkMode:r}=A(),{user:s,refreshUserData:l}=U(),[i,t]=h.useState({totalRevenue:0,totalOrders:0,totalCustomers:0,totalProducts:0,monthlyGrowth:0,avgOrderValue:0,completionRate:0,monthlySales:0,activeOrders:0,rating:4.8,totalSpent:0,subscriptions:0}),[m,g]=h.useState(!0),[p,u]=h.useState(null),a=(s==null?void 0:s.businessType)==="seller",f=(s==null?void 0:s.businessType)==="buyer",S=async()=>{l&&await l()};return h.useEffect(()=>{async function b(){try{g(!0);const w=(await T(C($,"orders"))).docs.map(d=>{var n;const c=d.data();return{id:d.id,total:c.total||0,status:c.status||"pending",customerName:c.customerName||"Unknown",createdAt:((n=c.createdAt)==null?void 0:n.toDate())||new Date,userId:c.userId}}),x=(await T(C($,"products"))).size;let j;if(a){const d=w.filter(n=>n.userId===s.uid),c=d.filter(n=>n.createdAt.getMonth()===new Date().getMonth()).reduce((n,y)=>n+y.total,0);j={totalProducts:x,monthlySales:c,activeOrders:d.filter(n=>n.status==="processing").length,rating:4.8,totalRevenue:d.reduce((n,y)=>n+y.total,0),totalOrders:d.length}}else{const d=w.filter(y=>y.userId===s.uid),c=d.reduce((y,D)=>y+D.total,0),n=d.length>0?c/d.length:0;j={totalOrders:d.length,totalSpent:c,avgOrderValue:n,subscriptions:2,monthlyGrowth:12.5}}t(j),g(!1)}catch(N){console.error("Error fetching business data:",N),u("Failed to load business data"),g(!1)}}b()},[s,a,f]),m?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):p?e.jsx("div",{className:`container mx-auto px-4 py-8 ${r?"text-white":"text-gray-800"}`,children:e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-red-500",children:p})})}):e.jsxs("div",{className:`container mx-auto px-4 py-8 max-w-7xl ${r?"text-gray-200":"text-gray-800"}`,children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${r?"text-white":"text-gray-900"}`,children:a?"Seller Dashboard":"Buyer Dashboard"}),e.jsx("p",{className:`mt-1 text-sm ${r?"text-gray-400":"text-gray-500"}`,children:a?"Manage your products, orders, and sales performance":"Monitor your purchases, orders, and discover new products"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${a?r?"bg-green-900/30 text-green-400":"bg-green-100 text-green-800":r?"bg-blue-900/30 text-blue-400":"bg-blue-100 text-blue-800"}`,children:a?"üè™ Seller Account":"üõí Buyer Account"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r?"bg-purple-900/30 text-purple-400":"bg-purple-100 text-purple-800"}`,children:"üíº Business User"})]})]})}),a?e.jsx(I,{stats:i,darkMode:r}):e.jsx(_,{stats:i,darkMode:r,user:s,onUpgradeSuccess:S})]})};export{Y as default};
