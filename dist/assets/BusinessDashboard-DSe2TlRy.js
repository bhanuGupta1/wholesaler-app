import{s as C,m as z,c as T,d as $,b as F,e as q,a as U,u as D,r as b,j as e,S as E,g as L,L as I}from"./index-Cayz1xms.js";const P=async(t,s={})=>{try{const a={userId:t,currentType:"buyer",requestedType:"seller",status:"pending",requestedAt:C(),...s},o=await z(T($,"upgradeRequests"),a);return await F(q($,"users",t),{upgradeStatus:"pending_seller_upgrade",upgradeRequestId:o.id,updatedAt:C()}),{success:!0,requestId:o.id,message:"Upgrade request submitted successfully"}}catch(a){throw console.error("Error requesting seller upgrade:",a),new Error("Failed to submit upgrade request")}},Y=t=>(t==null?void 0:t.upgradeStatus)==="pending_seller_upgrade",V=t=>{switch(t==null?void 0:t.upgradeStatus){case"pending_seller_upgrade":return"Your seller upgrade request is pending admin approval.";case"upgrade_approved":return"Your upgrade has been approved! You are now a seller.";case"upgrade_rejected":return"Your upgrade request was rejected. Contact support for details.";default:return null}},G=({isOpen:t,onClose:s,onSuccess:a})=>{const{user:o}=U(),{darkMode:r}=D(),[n,x]=b.useState(!1),[v,y]=b.useState(""),[i,j]=b.useState({businessDescription:"",productCategories:[],estimatedMonthlyRevenue:"",reasonForUpgrade:"",hasExperience:!1,agreeToTerms:!1}),l=["Electronics","Clothing & Fashion","Home & Garden","Health & Beauty","Sports & Outdoors","Automotive","Books & Media","Food & Beverages","Industrial Supplies","Office Supplies","Arts & Crafts","Other"],m=c=>{const{name:p,value:f,type:w,checked:A}=c.target;j(R=>({...R,[p]:w==="checkbox"?A:f}))},g=c=>{j(p=>({...p,productCategories:p.productCategories.includes(c)?p.productCategories.filter(f=>f!==c):[...p.productCategories,c]}))},S=async c=>{if(c.preventDefault(),!i.agreeToTerms){y("Please agree to the seller terms and conditions");return}if(i.productCategories.length===0){y("Please select at least one product category");return}x(!0),y("");try{await P(o.uid,{businessDescription:i.businessDescription,productCategories:i.productCategories,estimatedMonthlyRevenue:i.estimatedMonthlyRevenue,reasonForUpgrade:i.reasonForUpgrade,hasExperience:i.hasExperience,businessName:o.businessName,currentBusinessType:o.businessType}),a==null||a(),s()}catch(p){y(p.message||"Failed to submit upgrade request")}finally{x(!1)}};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto`,children:[e.jsx("div",{className:`px-6 py-4 border-b ${r?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:`text-2xl font-bold ${r?"text-white":"text-gray-900"}`,children:"🚀 Upgrade to Seller Account"}),e.jsx("button",{onClick:s,className:`${r?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-500"}`,children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:`mb-6 p-4 rounded-lg ${r?"bg-green-900/20 border-green-800":"bg-green-50 border-green-200"} border`,children:[e.jsx("h3",{className:`font-semibold mb-3 ${r?"text-green-300":"text-green-800"}`,children:"✨ What You'll Get as a Seller"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:`text-sm ${r?"text-green-200":"text-green-700"}`,children:[e.jsx("div",{children:"✅ List unlimited products"}),e.jsx("div",{children:"✅ Real-time inventory management"}),e.jsx("div",{children:"✅ Advanced order processing"})]}),e.jsxs("div",{className:`text-sm ${r?"text-green-200":"text-green-700"}`,children:[e.jsx("div",{children:"✅ Detailed sales analytics"}),e.jsx("div",{children:"✅ Customer management tools"}),e.jsx("div",{children:"✅ Priority support"})]})]})]}),v&&e.jsx("div",{className:`mb-4 p-4 rounded-lg ${r?"bg-red-900/20 border-red-800":"bg-red-50 border-red-200"} border`,children:e.jsx("p",{className:`text-sm ${r?"text-red-300":"text-red-700"}`,children:v})}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Business Description *"}),e.jsx("textarea",{name:"businessDescription",value:i.businessDescription,onChange:m,required:!0,rows:3,className:`w-full px-3 py-2 border rounded-lg ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} focus:ring-2 focus:ring-orange-500 focus:border-orange-500`,placeholder:"Describe your business and what you plan to sell..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-3 ${r?"text-gray-300":"text-gray-700"}`,children:"Product Categories * (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:l.map(c=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i.productCategories.includes(c),onChange:()=>g(c),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:`ml-2 text-sm ${r?"text-gray-300":"text-gray-700"}`,children:c})]},c))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Estimated Monthly Revenue"}),e.jsxs("select",{name:"estimatedMonthlyRevenue",value:i.estimatedMonthlyRevenue,onChange:m,className:`w-full px-3 py-2 border rounded-lg ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} focus:ring-2 focus:ring-orange-500 focus:border-orange-500`,children:[e.jsx("option",{value:"",children:"Select range..."}),e.jsx("option",{value:"under-1k",children:"Under $1,000"}),e.jsx("option",{value:"1k-5k",children:"$1,000 - $5,000"}),e.jsx("option",{value:"5k-10k",children:"$5,000 - $10,000"}),e.jsx("option",{value:"10k-25k",children:"$10,000 - $25,000"}),e.jsx("option",{value:"25k-50k",children:"$25,000 - $50,000"}),e.jsx("option",{value:"over-50k",children:"Over $50,000"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Why do you want to become a seller?"}),e.jsx("textarea",{name:"reasonForUpgrade",value:i.reasonForUpgrade,onChange:m,rows:2,className:`w-full px-3 py-2 border rounded-lg ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"} focus:ring-2 focus:ring-orange-500 focus:border-orange-500`,placeholder:"Tell us about your goals and motivation..."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"hasExperience",checked:i.hasExperience,onChange:m,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("label",{className:`ml-2 text-sm ${r?"text-gray-300":"text-gray-700"}`,children:"I have previous experience selling products online"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",name:"agreeToTerms",checked:i.agreeToTerms,onChange:m,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500 mt-1"}),e.jsxs("label",{className:`ml-2 text-sm ${r?"text-gray-300":"text-gray-700"}`,children:["I agree to the"," ",e.jsx("a",{href:"#",className:`${r?"text-orange-400 hover:text-orange-300":"text-orange-600 hover:text-orange-700"} underline`,children:"Seller Terms and Conditions"})," ","and understand that my upgrade request will be reviewed by admin"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:n,className:`flex-1 py-3 px-6 rounded-lg font-medium text-white transition-colors ${n?"bg-gray-400 cursor-not-allowed":"bg-orange-600 hover:bg-orange-700"}`,children:n?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),"Submitting Request..."]}):"Submit Upgrade Request"}),e.jsx("button",{type:"button",onClick:s,className:`flex-1 py-3 px-6 rounded-lg font-medium border transition-colors ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Cancel"})]})]})]})]})}):null},_=({stats:t,darkMode:s,themePrefix:a})=>{var o,r;return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:s?"NEURAL PRODUCTS":"Products Listed",value:t.totalProducts||0,icon:"📦",color:"blue",delay:"0ms"},{title:s?"QUANTUM REVENUE":"Sales This Month",value:`$${((o=t.monthlySales)==null?void 0:o.toFixed(0))||"0"}`,icon:"💰",color:"green",delay:"100ms"},{title:s?"ACTIVE PROTOCOLS":"Active Orders",value:t.activeOrders||0,icon:"📋",color:"orange",delay:"200ms"},{title:s?"NEURAL RATING":"Customer Rating",value:`${((r=t.rating)==null?void 0:r.toFixed(1))||"5.0"} ⭐`,icon:"⭐",color:"purple",delay:"300ms"}].map((n,x)=>e.jsxs("div",{className:`${a}-card p-6 group transition-all duration-500 hover:scale-110 animate-slideInUp`,style:{animationDelay:n.delay},children:[s&&e.jsx("div",{className:"card-glow"}),!s&&e.jsx("div",{className:"neumorph-card-glow"}),e.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-bold uppercase tracking-wide mb-2 ${s?"text-cyan-400":"text-blue-600"}`,children:n.title}),e.jsx("p",{className:`text-3xl font-bold ${s?"text-cyan-100 cyber-glow":"text-gray-900"}`,children:n.value})]}),e.jsx("div",{className:`text-5xl p-4 rounded-xl transition-all duration-300 group-hover:scale-125 group-hover:rotate-12 ${s?`bg-${n.color}-900/30 border-2 border-${n.color}-600`:`bg-${n.color}-100 border-2 border-${n.color}-300`}`,children:n.icon})]})]},x))}),e.jsxs("div",{className:`${a}-card p-8 transition-all duration-500 hover:scale-[1.02] animate-slideInUp`,style:{animationDelay:"400ms"},children:[s&&e.jsx("div",{className:"card-glow"}),!s&&e.jsx("div",{className:"neumorph-card-glow"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h2",{className:`text-2xl font-bold mb-6 ${s?"cyber-title cyber-glow text-cyan-400":"neumorph-title text-blue-600"}`,children:s?"SELLER COMMAND CENTER":"Seller Actions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{to:"/inventory",icon:"📦",title:s?"INVENTORY MATRIX":"Manage Inventory",description:s?"Neural product database":"View and edit products",color:"blue",delay:"100ms"},{to:"/add-product",icon:"➕",title:s?"ADD TO MATRIX":"Add Product",description:s?"Deploy new products":"List new products",color:"indigo",delay:"200ms"},{to:"/orders",icon:"📋",title:s?"ORDER PROTOCOLS":"Process Orders",description:s?"Manage neural orders":"Manage incoming orders",color:"green",delay:"300ms"},{to:"#",icon:"📊",title:s?"QUANTUM ANALYTICS":"View Analytics",description:s?"Neural performance data":"Sales performance data",color:"purple",delay:"400ms"}].map((n,x)=>e.jsxs(I,{to:n.to,className:`${a}-btn ${a}-btn-${n.color} group p-6 transition-all duration-500 hover:scale-110 hover:rotate-2 animate-slideInUp text-center block`,style:{animationDelay:n.delay},children:[s&&e.jsx("div",{className:"btn-glow"}),!s&&e.jsx("div",{className:"neumorph-btn-glow"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"text-4xl mb-3 group-hover:scale-125 group-hover:rotate-12 transition-transform duration-300",children:n.icon}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:n.title}),e.jsx("p",{className:"text-sm opacity-90",children:n.description})]})]},x))})]})]})]})},W=({stats:t,darkMode:s,themePrefix:a,user:o,onUpgradeSuccess:r})=>{var i,j;const[n,x]=b.useState(!1),v=Y(o),y=V(o);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-8",children:[v&&e.jsxs("div",{className:`${a}-card p-6 animate-pulse-slow animate-slideInUp`,children:[s&&e.jsx("div",{className:"card-glow"}),!s&&e.jsx("div",{className:"neumorph-card-glow"}),e.jsxs("div",{className:"flex items-center relative z-10",children:[e.jsx("div",{className:"text-4xl mr-4 animate-spin",children:"⏳"}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-bold text-lg mb-2 ${s?"text-yellow-400 cyber-glow":"text-yellow-800"}`,children:s?"UPGRADE PROTOCOL PENDING":"Upgrade Request Pending"}),e.jsx("p",{className:`${s?"text-yellow-300":"text-yellow-700"}`,children:y})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{title:s?"TOTAL ACQUISITIONS":"Total Orders",value:t.totalOrders||0,icon:"🛒",color:"blue",delay:"0ms"},{title:s?"CREDITS SPENT":"Total Spent",value:`$${((i=t.totalSpent)==null?void 0:i.toFixed(0))||"0"}`,subtitle:s?"15% neural discount active":"15% bulk discount applied",icon:"💰",color:"green",delay:"100ms"},{title:s?"AVG TRANSACTION":"Avg Order Value",value:`$${((j=t.avgOrderValue)==null?void 0:j.toFixed(2))||"0.00"}`,icon:"📊",color:"purple",delay:"200ms"},{title:s?"ACTIVE STREAMS":"Active Subscriptions",value:t.subscriptions||0,icon:"🔄",color:"indigo",delay:"300ms"}].map((l,m)=>e.jsxs("div",{className:`${a}-card p-6 group transition-all duration-500 hover:scale-110 animate-slideInUp`,style:{animationDelay:l.delay},children:[s&&e.jsx("div",{className:"card-glow"}),!s&&e.jsx("div",{className:"neumorph-card-glow"}),e.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-bold uppercase tracking-wide mb-2 ${s?"text-cyan-400":"text-blue-600"}`,children:l.title}),e.jsx("p",{className:`text-3xl font-bold mb-1 ${s?"text-cyan-100 cyber-glow":"text-gray-900"}`,children:l.value}),l.subtitle&&e.jsx("p",{className:`text-sm ${s?"text-green-400":"text-green-600"}`,children:l.subtitle})]}),e.jsx("div",{className:`text-5xl p-4 rounded-xl transition-all duration-300 group-hover:scale-125 group-hover:rotate-12 ${s?`bg-${l.color}-900/30 border-2 border-${l.color}-600`:`bg-${l.color}-100 border-2 border-${l.color}-300`}`,children:l.icon})]})]},m))}),e.jsxs("div",{className:`${a}-card p-8 transition-all duration-500 hover:scale-[1.02] animate-slideInUp`,style:{animationDelay:"400ms"},children:[s&&e.jsx("div",{className:"card-glow"}),!s&&e.jsx("div",{className:"neumorph-card-glow"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("h2",{className:`text-2xl font-bold mb-6 ${s?"cyber-title cyber-glow text-cyan-400":"neumorph-title text-blue-600"}`,children:s?"BUYER COMMAND CENTER":"Buyer Actions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{to:"/catalog",icon:"🛒",title:s?"BROWSE MATRIX":"Browse Products",description:s?"Explore neural catalog":"Find products to purchase",color:"blue",delay:"100ms"},{to:"/orders",icon:"📋",title:s?"ORDER HISTORY":"My Orders",description:s?"Track neural orders":"Track order history",color:"green",delay:"200ms"},{to:"/cart",icon:"🛍️",title:s?"CART MATRIX":"Shopping Cart",description:s?"Review neural selections":"Review selected items",color:"purple",delay:"300ms"}].map((l,m)=>e.jsxs(I,{to:l.to,className:`${a}-btn ${a}-btn-${l.color} group p-6 transition-all duration-500 hover:scale-110 hover:rotate-2 animate-slideInUp text-center block`,style:{animationDelay:l.delay},children:[s&&e.jsx("div",{className:"btn-glow"}),!s&&e.jsx("div",{className:"neumorph-btn-glow"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"text-4xl mb-3 group-hover:scale-125 group-hover:rotate-12 transition-transform duration-300",children:l.icon}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:l.title}),e.jsx("p",{className:"text-sm opacity-90",children:l.description})]})]},m))})]})]}),!v&&e.jsxs("div",{className:`${a}-cta-card p-8 transition-all duration-500 hover:scale-[1.02] animate-slideInUp`,style:{animationDelay:"500ms"},children:[s&&e.jsx("div",{className:"cta-glow"}),!s&&e.jsx("div",{className:"neumorph-cta-glow"}),e.jsxs("div",{className:"flex items-start space-x-6 relative z-10",children:[e.jsx("div",{className:"text-6xl animate-bounce",children:"🚀"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-2xl font-bold mb-4 ${s?"cyber-title cyber-glow text-cyan-400":"neumorph-title text-blue-600"}`,children:s?"UNLOCK SELLER PROTOCOLS":"Become a Seller & Grow Your Business"}),e.jsx("p",{className:`text-lg mb-6 ${s?"text-cyan-200":"text-gray-700"}`,children:s?"Activate advanced selling protocols and start generating revenue through our neural marketplace.":"Unlock powerful selling features and start earning revenue by listing your products on our platform."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:`${a}-card p-6`,children:[s&&e.jsx("div",{className:"card-glow"}),!s&&e.jsx("div",{className:"neumorph-card-glow"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h4",{className:`font-bold text-lg mb-4 ${s?"text-green-400 cyber-glow":"text-green-600"}`,children:["✨ ",s?"SELLER PROTOCOLS":"Seller Benefits"]}),e.jsxs("ul",{className:`space-y-2 ${s?"text-green-300":"text-green-700"}`,children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"•"}),s?"Deploy unlimited neural products":"List unlimited products"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"•"}),s?"Real-time inventory matrix":"Manage inventory in real-time"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"•"}),s?"Advanced order processing":"Process orders efficiently"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"•"}),s?"Quantum analytics dashboard":"Access detailed analytics"]})]})]})]}),e.jsxs("div",{className:`${a}-card p-6`,children:[s&&e.jsx("div",{className:"card-glow"}),!s&&e.jsx("div",{className:"neumorph-card-glow"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h4",{className:`font-bold text-lg mb-4 ${s?"text-red-400 cyber-glow":"text-red-600"}`,children:["🎯 ",s?"LOCKED PROTOCOLS":"Locked Features"]}),e.jsxs("ul",{className:`space-y-2 ${s?"text-red-300":"text-red-700"}`,children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"🔒"}),s?"Neural Product Management":"Product Management"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"🔒"}),s?"Quantum Inventory Tracking":"Inventory Tracking"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"🔒"}),s?"Advanced Order Processing":"Order Processing"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"text-red-500 mr-2",children:"🔒"}),s?"Neural Seller Analytics":"Seller Analytics"]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:()=>x(!0),className:`${a}-btn ${a}-btn-primary ${a}-btn-dashboard group transition-all duration-300 hover:scale-110`,children:[s&&e.jsx("div",{className:"btn-glow"}),!s&&e.jsx("div",{className:"neumorph-btn-glow"}),e.jsx("svg",{className:"btn-icon mr-3 group-hover:rotate-12 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsx("span",{className:"btn-text font-bold",children:s?"ACTIVATE SELLER PROTOCOLS":"Upgrade to Seller Account"})]}),e.jsxs("button",{className:`${a}-btn ${a}-btn-outline group transition-all duration-300 hover:scale-110`,children:[e.jsx("svg",{className:"btn-icon mr-3 group-hover:bounce transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"btn-text font-bold",children:s?"LEARN NEURAL SELLING":"Learn More About Selling"})]})]})]})]})]})]}),e.jsx(G,{isOpen:n,onClose:()=>x(!1),onSuccess:r})]})},Q=()=>{const{darkMode:t}=D(),{user:s,refreshUserData:a}=U(),[o,r]=b.useState({totalRevenue:0,totalOrders:0,totalCustomers:0,totalProducts:0,monthlyGrowth:0,avgOrderValue:0,completionRate:0,monthlySales:0,activeOrders:0,rating:4.8,totalSpent:0,subscriptions:0}),[n,x]=b.useState(!0),[v,y]=b.useState(null),[i,j]=b.useState(!1),l=t?"cyber":"neumorph",m=t?"cyberpunk":"neumorph",g=(s==null?void 0:s.businessType)==="seller",S=(s==null?void 0:s.businessType)==="buyer",c=async()=>{a&&await a()};return b.useEffect(()=>{async function p(){try{x(!0);const w=(await L(T($,"orders"))).docs.map(u=>{var d;const h=u.data();return{id:u.id,total:h.total||0,status:h.status||"pending",customerName:h.customerName||"Unknown",createdAt:((d=h.createdAt)==null?void 0:d.toDate())||new Date,userId:h.userId}}),R=(await L(T($,"products"))).size;let O;if(g){const u=w.filter(d=>d.userId===s.uid),h=u.filter(d=>d.createdAt.getMonth()===new Date().getMonth()).reduce((d,N)=>d+N.total,0);O={totalProducts:R,monthlySales:h,activeOrders:u.filter(d=>d.status==="processing").length,rating:4.8,totalRevenue:u.reduce((d,N)=>d+N.total,0),totalOrders:u.length}}else{const u=w.filter(N=>N.userId===s.uid),h=u.reduce((N,B)=>N+B.total,0),d=u.length>0?h/u.length:0;O={totalOrders:u.length,totalSpent:h,avgOrderValue:d,subscriptions:2,monthlyGrowth:12.5}}r(O),x(!1),j(!0)}catch(f){console.error("Error fetching business data:",f),y("Failed to load business data"),x(!1)}}p()},[s,g,S]),n?e.jsxs("div",{className:`${m}-layout-wrapper min-h-screen`,children:[e.jsx(E,{intensity:.3,enableGlitch:t}),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-2 opacity-10 pointer-events-none",children:e.jsx("div",{className:"cyberpunk-grid"})}),e.jsx("div",{className:"fixed inset-0 z-3 pointer-events-none opacity-20",children:e.jsx("div",{className:"scanlines"})})]}):e.jsx("div",{className:"fixed inset-0 z-2 opacity-15 pointer-events-none",children:e.jsx("div",{className:"neumorph-grid"})}),e.jsx("div",{className:"flex justify-center items-center h-screen relative z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`${l}-loading-spinner mb-6`}),e.jsx("h2",{className:`text-xl font-bold ${t?"cyber-title text-cyan-400":"neumorph-title text-blue-600"}`,children:t?"LOADING NEURAL DASHBOARD...":"Loading Dashboard..."})]})})]}):v?e.jsxs("div",{className:`${m}-layout-wrapper min-h-screen`,children:[e.jsx(E,{intensity:.3,enableGlitch:t}),e.jsx("div",{className:"container mx-auto px-4 py-8 relative z-10",children:e.jsxs("div",{className:`${l}-card p-8 max-w-md mx-auto text-center animate-shake`,children:[t&&e.jsx("div",{className:"card-glow"}),!t&&e.jsx("div",{className:"neumorph-card-glow"}),e.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),e.jsx("h3",{className:`text-xl font-bold mb-4 ${t?"cyber-title text-red-400":"neumorph-title text-red-600"}`,children:t?"NEURAL NETWORK ERROR":"Dashboard Error"}),e.jsx("p",{className:`mb-6 ${t?"text-red-300":"text-red-600"}`,children:v}),e.jsx("button",{onClick:()=>window.location.reload(),className:`${l}-btn ${l}-btn-red`,children:e.jsx("span",{className:"font-bold",children:t?"RETRY CONNECTION":"Retry Loading"})})]})})]}):e.jsxs("div",{className:`${m}-layout-wrapper min-h-screen transition-all duration-1000 ${i?"opacity-100":"opacity-0"}`,children:[e.jsx(E,{intensity:.5,enableGlitch:t}),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-2 opacity-10 pointer-events-none",children:e.jsx("div",{className:"cyberpunk-grid"})}),e.jsx("div",{className:"fixed inset-0 z-3 pointer-events-none opacity-20",children:e.jsx("div",{className:"scanlines"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-2 opacity-15 pointer-events-none",children:e.jsx("div",{className:"neumorph-grid"})}),e.jsx("div",{className:"fixed inset-0 z-3 opacity-8 pointer-events-none",children:e.jsx("div",{className:"neumorph-gradient"})})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl relative z-10",children:[e.jsx("div",{className:"mb-12 animate-slideInUp",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between",children:[e.jsxs("div",{className:"mb-6 lg:mb-0",children:[e.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 ${t?"cyber-title cyber-glow text-cyan-400":"neumorph-title text-blue-600"}`,children:g?t?"SELLER NEURAL COMMAND":"Seller Dashboard":t?"BUYER NEURAL INTERFACE":"Buyer Dashboard"}),e.jsx("p",{className:`text-xl ${t?"text-cyan-200":"text-gray-600"}`,children:g?t?"Neural command center for product management and quantum sales analytics":"Manage your products, orders, and sales performance":t?"Neural interface for monitoring acquisitions and discovering new products":"Monitor your purchases, orders, and discover new products"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:`${l}-card px-6 py-3 transition-all duration-300 hover:scale-110`,children:[t&&e.jsx("div",{className:"card-glow"}),!t&&e.jsx("div",{className:"neumorph-card-glow"}),e.jsxs("div",{className:"flex items-center relative z-10",children:[e.jsx("span",{className:"text-2xl mr-3",children:g?"🏪":"🛒"}),e.jsx("span",{className:`font-bold ${g?t?"text-green-400":"text-green-600":t?"text-blue-400":"text-blue-600"}`,children:g?t?"SELLER PROTOCOL":"Seller Account":t?"BUYER PROTOCOL":"Buyer Account"})]})]}),e.jsxs("div",{className:`${l}-card px-6 py-3 transition-all duration-300 hover:scale-110`,children:[t&&e.jsx("div",{className:"card-glow"}),!t&&e.jsx("div",{className:"neumorph-card-glow"}),e.jsxs("div",{className:"flex items-center relative z-10",children:[e.jsx("span",{className:"text-2xl mr-3",children:"💼"}),e.jsx("span",{className:`font-bold ${t?"text-purple-400":"text-purple-600"}`,children:t?"BUSINESS ENTITY":"Business User"})]})]})]})]})}),g?e.jsx(_,{stats:o,darkMode:t,themePrefix:l}):e.jsx(W,{stats:o,darkMode:t,themePrefix:l,user:s,onUpgradeSuccess:c})]}),e.jsx("style",{jsx:!0,children:`
        @keyframes slideInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
          20%, 40%, 60%, 80% { transform: translateX(2px); }
        }
        
        @keyframes pulse-slow {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.7; }
        }
        
        .animate-slideInUp { animation: slideInUp 0.6s ease-out; }
        .animate-shake { animation: shake 0.5s ease-in-out; }
        .animate-pulse-slow { animation: pulse-slow 2s ease-in-out infinite; }
      `})]})};export{Q as default};
