import{a as ue,u as he,t as ye,r as pe,d as R,j as e,L as V}from"./index-DxRwWpQI.js";import{r as d}from"./vendor-DJ1oPbzn.js";import{c as be,q as G,b as J,w as we,g as fe,f as K,d as Z}from"./firebase-DMhjYMbV.js";import{R as je}from"./refresh-cw-CL3pwOUP.js";import{D as ve}from"./download-D2uC-ZLv.js";import{P as T}from"./package-Cp5rcFUb.js";import{C as Ne}from"./clock-CoMY2Qow.js";import{c as j}from"./createLucideIcon-AIsR3Rz6.js";import{D as ee}from"./dollar-sign-BSghxY9L.js";import{S as $e}from"./search-CpZmDFC4.js";import{X as ke}from"./x-Dyd7p2gS.js";import{E as Se}from"./eye-1LxUiV9r.js";import{T as te}from"./trash-2-CrCvDdGD.js";import{U as Ce}from"./user-ColF89V6.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],Ae=j("arrow-down-wide-narrow",De);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],Oe=j("arrow-up-narrow-wide",Te);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Me=j("chevron-down",Fe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ie=j("chevron-up",Le);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Ee=j("ellipsis-vertical",Pe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ve=j("funnel",Re);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ue=j("square-check-big",_e),at=()=>{const{user:g}=ue(),{darkMode:r}=he();g!=null&&g.accountType;const y=ye(g),m=pe(g),[v,O]=d.useState([]),[re,F]=d.useState(!0),[_,M]=d.useState(null),[L,u]=d.useState(null),[p,U]=d.useState(""),[I,se]=d.useState("createdAt"),[C,ae]=d.useState("desc"),[D,oe]=d.useState(!1),[l,z]=d.useState({status:"",dateRange:"",minAmount:"",maxAmount:"",paymentStatus:"",customDateFrom:"",customDateTo:""}),[i,b]=d.useState(1),[k,le]=d.useState(10),[P,q]=d.useState("table"),[x,S]=d.useState(new Set),[ze,qe]=d.useState(!1),[A,ne]=d.useState({total:0,pending:0,completed:0,cancelled:0,totalValue:0});d.useEffect(()=>{E()},[g,y]),d.useEffect(()=>{de()},[v]);const E=async()=>{if(!g){M("Please log in to view orders"),F(!1);return}try{F(!0),M(null);const t=be(R,"orders");let a;y?a=G(t,J("createdAt","desc")):a=G(t,we("userId","==",g.uid),J("createdAt","desc"));const n=await fe(a),c=[];n.forEach(o=>{var Q,X;const s=o.data();let $=new Date;s.createdAt?typeof s.createdAt.toDate=="function"?$=s.createdAt.toDate():s.createdAt instanceof Date?$=s.createdAt:typeof s.createdAt=="string"&&($=new Date(s.createdAt)):s.dateCreated&&(typeof s.dateCreated.toDate=="function"?$=s.dateCreated.toDate():$=new Date(s.dateCreated));const me={id:o.id,orderId:s.orderId||`#ORD-${o.id.substring(0,8).toUpperCase()}`,customerName:s.customerName||((Q=s.customer)==null?void 0:Q.name)||"Unknown Customer",customerEmail:s.customerEmail||s.userEmail||g.email,userId:s.userId||g.uid,total:s.total||s.totalAmount||0,status:s.status||"pending",paymentStatus:s.paymentStatus||"pending",items:s.items||[],itemCount:s.itemCount||((X=s.items)==null?void 0:X.length)||0,createdAt:$,shippingAddress:s.shippingAddress||{},paymentInfo:s.paymentInfo||{},_originalData:s};!y&&s.userId!==g.uid||c.push(me)}),O(c)}catch(t){console.error("Error fetching orders:",t),M(`Failed to load orders: ${t.message}`)}finally{F(!1)}},de=()=>{const t=v.reduce((a,n)=>{var c;switch(a.total+=1,a.totalValue+=n.total,(c=n.status)==null?void 0:c.toLowerCase()){case"pending":a.pending+=1;break;case"completed":a.completed+=1;break;case"cancelled":a.cancelled+=1;break}return a},{total:0,pending:0,completed:0,cancelled:0,totalValue:0});ne(t)},N=d.useMemo(()=>{let t=v.filter(a=>{const n=p.toLowerCase();if(!(!p||a.customerName.toLowerCase().includes(n)||a.orderId.toLowerCase().includes(n)||a.customerEmail.toLowerCase().includes(n)||a.items.some(o=>{var s;return(s=o.productName)==null?void 0:s.toLowerCase().includes(n)}))||l.status&&a.status!==l.status||l.paymentStatus&&a.paymentStatus!==l.paymentStatus||l.minAmount&&a.total<parseFloat(l.minAmount)||l.maxAmount&&a.total>parseFloat(l.maxAmount))return!1;if(l.dateRange){const o=new Date;let s;switch(l.dateRange){case"today":s=new Date(o.getFullYear(),o.getMonth(),o.getDate());break;case"week":s=new Date(o.getTime()-6048e5);break;case"month":s=new Date(o.getFullYear(),o.getMonth(),1);break;case"quarter":s=new Date(o.getFullYear(),Math.floor(o.getMonth()/3)*3,1);break;case"year":s=new Date(o.getFullYear(),0,1);break}if(s&&a.createdAt<s)return!1}if(l.customDateFrom){const o=new Date(l.customDateFrom);if(a.createdAt<o)return!1}if(l.customDateTo){const o=new Date(l.customDateTo);if(o.setHours(23,59,59,999),a.createdAt>o)return!1}return!0});return t.sort((a,n)=>{let c,o;switch(I){case"createdAt":c=a.createdAt.getTime(),o=n.createdAt.getTime();break;case"customerName":c=a.customerName.toLowerCase(),o=n.customerName.toLowerCase();break;case"total":c=a.total,o=n.total;break;case"status":c=a.status.toLowerCase(),o=n.status.toLowerCase();break;case"orderId":c=a.orderId.toLowerCase(),o=n.orderId.toLowerCase();break;default:return 0}return C==="asc"?c>o?1:-1:c<o?1:-1}),t},[v,p,l,I,C]),w=d.useMemo(()=>{const t=(i-1)*k;return N.slice(t,t+k)},[N,i,k]),h=Math.ceil(N.length/k),f=(t,a)=>{z(n=>({...n,[t]:a})),b(1)},ce=()=>{z({status:"",dateRange:"",minAmount:"",maxAmount:"",paymentStatus:"",customDateFrom:"",customDateTo:""}),U(""),b(1)},B=t=>{const a=new Set(x);a.has(t)?a.delete(t):a.add(t),S(a)},ie=()=>{x.size===w.length&&w.length>0?S(new Set):S(new Set(w.map(t=>t.id)))},xe=()=>{const a=[["Order ID","Customer","Email","Date","Status","Payment","Items","Total"].join(","),...N.map(s=>[s.orderId,`"${s.customerName}"`,s.customerEmail,s.createdAt.toLocaleDateString(),s.status,s.paymentStatus,s.itemCount,s.total.toFixed(2)].join(","))].join(`
`),n=new Blob([a],{type:"text/csv"}),c=window.URL.createObjectURL(n),o=document.createElement("a");o.href=c,o.download=`orders-${new Date().toISOString().split("T")[0]}.csv`,o.click(),window.URL.revokeObjectURL(c)},Y=async t=>{if(m&&confirm("Are you sure you want to delete this order? This action cannot be undone."))try{await K(Z(R,"orders",t)),O(a=>a.filter(n=>n.id!==t)),u({message:"Order deleted successfully",type:"success"}),setTimeout(()=>u(null),3e3)}catch(a){console.error("Error deleting order:",a),u({message:"Failed to delete order",type:"error"}),setTimeout(()=>u(null),3e3)}},ge=async()=>{if(!(!m||x.size===0)&&confirm(`Are you sure you want to delete ${x.size} selected order(s)? This action cannot be undone.`))try{const t=Array.from(x).map(a=>K(Z(R,"orders",a)));await Promise.all(t),O(a=>a.filter(n=>!x.has(n.id))),S(new Set),u({message:`${x.size} order(s) deleted successfully`,type:"success"}),setTimeout(()=>u(null),3e3)}catch(t){console.error("Error deleting orders:",t),u({message:"Failed to delete some orders",type:"error"}),setTimeout(()=>u(null),3e3)}},H=t=>{switch(t==null?void 0:t.toLowerCase()){case"completed":return r?"bg-green-900/30 text-green-400":"bg-green-100 text-green-800";case"processing":return r?"bg-blue-900/30 text-blue-400":"bg-blue-100 text-blue-800";case"pending":return r?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-800";case"cancelled":return r?"bg-red-900/30 text-red-400":"bg-red-100 text-red-800";default:return r?"bg-gray-900/30 text-gray-400":"bg-gray-100 text-gray-800"}},W=t=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t);return re?e.jsx("div",{className:`min-h-screen ${r?"bg-gray-900":"bg-gray-50"}`,children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})})}):_?e.jsx("div",{className:`container mx-auto px-4 py-8 ${r?"text-white":"text-gray-800"}`,children:e.jsxs("div",{className:`p-6 rounded-lg ${r?"bg-red-900/20 border-red-800":"bg-red-50 border-red-200"} border`,children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Orders"}),e.jsx("p",{className:"text-red-500 mb-4",children:_}),e.jsx("button",{onClick:E,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Retry"})]})}):e.jsx("div",{className:`min-h-screen ${r?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[L&&e.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg border ${L.type==="success"?r?"bg-green-900 border-green-700 text-green-100":"bg-green-100 border-green-400 text-green-800":r?"bg-red-900 border-red-700 text-red-100":"bg-red-100 border-red-400 text-red-800"}`,children:L.message}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${r?"text-white":"text-gray-900"}`,children:y?"All Orders":"My Orders"}),e.jsx("p",{className:`mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:y?"Manage and view all customer orders":"View and track your personal orders"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:E,className:`flex items-center px-4 py-2 border rounded-lg transition-colors ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e.jsxs("button",{onClick:xe,className:`flex items-center px-4 py-2 border rounded-lg transition-colors ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[{label:"Total Orders",value:A.total,icon:T,color:"blue"},{label:"Pending",value:A.pending,icon:Ne,color:"yellow"},{label:"Completed",value:A.completed,icon:Ue,color:"green"},{label:"Total Value",value:`$${A.totalValue.toFixed(2)}`,icon:ee,color:"purple"}].map((t,a)=>e.jsx("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-lg p-6 shadow-sm`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-2 rounded-lg ${t.color==="blue"?r?"bg-blue-900/30":"bg-blue-100":t.color==="yellow"?r?"bg-yellow-900/30":"bg-yellow-100":t.color==="green"?r?"bg-green-900/30":"bg-green-100":r?"bg-purple-900/30":"bg-purple-100"}`,children:e.jsx(t.icon,{className:`w-5 h-5 ${t.color==="blue"?r?"text-blue-400":"text-blue-600":t.color==="yellow"?r?"text-yellow-400":"text-yellow-600":t.color==="green"?r?"text-green-400":"text-green-600":r?"text-purple-400":"text-purple-600"}`})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:`text-sm font-medium ${r?"text-gray-400":"text-gray-600"}`,children:t.label}),e.jsx("p",{className:`text-2xl font-semibold ${r?"text-white":"text-gray-900"}`,children:t.value})]})]})},a))})]}),e.jsx("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-6 mb-6`,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx($e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search orders by customer name, order ID, email, or product...",value:p,onChange:t=>U(t.target.value),className:`block w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ${r?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300"}`})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("button",{onClick:()=>oe(!D),className:`flex items-center px-4 py-2 border rounded-lg transition-colors ${D?"bg-indigo-600 text-white border-indigo-600":r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(Ve,{className:"w-4 h-4 mr-2"}),"Filters",Object.values(l).some(t=>t)&&e.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:Object.values(l).filter(t=>t).length}),D?e.jsx(Ie,{className:"w-4 h-4 ml-2"}):e.jsx(Me,{className:"w-4 h-4 ml-2"})]}),e.jsxs("select",{value:I,onChange:t=>se(t.target.value),className:`px-3 py-2 border rounded-lg ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"createdAt",children:"Sort by Date"}),e.jsx("option",{value:"customerName",children:"Sort by Customer"}),e.jsx("option",{value:"total",children:"Sort by Amount"}),e.jsx("option",{value:"status",children:"Sort by Status"}),e.jsx("option",{value:"orderId",children:"Sort by Order ID"})]}),e.jsx("button",{onClick:()=>ae(C==="asc"?"desc":"asc"),className:`p-2 border rounded-lg ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:C==="asc"?e.jsx(Oe,{className:"w-4 h-4"}):e.jsx(Ae,{className:"w-4 h-4"})}),e.jsxs("div",{className:`flex border rounded-lg ${r?"border-gray-600":"border-gray-300"}`,children:[e.jsx("button",{onClick:()=>q("table"),className:`px-3 py-2 text-sm font-medium rounded-l-lg transition-colors ${P==="table"?"bg-indigo-600 text-white":r?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50"}`,children:"Table"}),e.jsx("button",{onClick:()=>q("card"),className:`px-3 py-2 text-sm font-medium rounded-r-lg transition-colors ${P==="card"?"bg-indigo-600 text-white":r?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-50"}`,children:"Cards"})]}),(p||Object.values(l).some(t=>t))&&e.jsxs("button",{onClick:ce,className:"flex items-center px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[e.jsx(ke,{className:"w-4 h-4 mr-1"}),"Clear"]}),e.jsxs("div",{className:"ml-auto text-sm text-gray-500",children:[N.length," of ",v.length," order",v.length!==1?"s":""]})]}),D&&e.jsxs("div",{className:`p-4 border rounded-lg space-y-4 ${r?"border-gray-600 bg-gray-700":"border-gray-200 bg-gray-50"}`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Status"}),e.jsxs("select",{value:l.status,onChange:t=>f("status",t.target.value),className:`w-full px-3 py-2 border rounded-lg ${r?"bg-gray-600 border-gray-500 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Payment Status"}),e.jsxs("select",{value:l.paymentStatus,onChange:t=>f("paymentStatus",t.target.value),className:`w-full px-3 py-2 border rounded-lg ${r?"bg-gray-600 border-gray-500 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"All Payment Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"failed",children:"Failed"}),e.jsx("option",{value:"refunded",children:"Refunded"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Date Range"}),e.jsxs("select",{value:l.dateRange,onChange:t=>f("dateRange",t.target.value),className:`w-full px-3 py-2 border rounded-lg ${r?"bg-gray-600 border-gray-500 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:"",children:"All Time"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"quarter",children:"This Quarter"}),e.jsx("option",{value:"year",children:"This Year"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Amount Range"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:l.minAmount,onChange:t=>f("minAmount",t.target.value),className:`w-full px-3 py-2 border rounded-lg ${r?"bg-gray-600 border-gray-500 text-white":"bg-white border-gray-300"}`}),e.jsx("input",{type:"number",placeholder:"Max",value:l.maxAmount,onChange:t=>f("maxAmount",t.target.value),className:`w-full px-3 py-2 border rounded-lg ${r?"bg-gray-600 border-gray-500 text-white":"bg-white border-gray-300"}`})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"From Date"}),e.jsx("input",{type:"date",value:l.customDateFrom,onChange:t=>f("customDateFrom",t.target.value),className:`w-full px-3 py-2 border rounded-lg ${r?"bg-gray-600 border-gray-500 text-white":"bg-white border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"To Date"}),e.jsx("input",{type:"date",value:l.customDateTo,onChange:t=>f("customDateTo",t.target.value),className:`w-full px-3 py-2 border rounded-lg ${r?"bg-gray-600 border-gray-500 text-white":"bg-white border-gray-300"}`})]})]})]})]})}),x.size>0&&m&&e.jsx("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-4 mb-6 border border-indigo-200`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:`text-sm ${r?"text-gray-300":"text-gray-700"}`,children:[x.size," order",x.size!==1?"s":""," selected"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>S(new Set),className:`px-3 py-2 text-sm border rounded-lg transition-colors ${r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Clear Selection"}),e.jsx("button",{onClick:ge,className:"px-3 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Selected"})]})]})}),N.length===0?e.jsxs("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-12 text-center`,children:[e.jsx(T,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:`text-lg font-medium ${r?"text-gray-300":"text-gray-900"} mb-2`,children:"No orders found"}),e.jsx("p",{className:`${r?"text-gray-400":"text-gray-500"}`,children:p||Object.values(l).some(t=>t)?"Try adjusting your search or filters to find what you're looking for.":y?"No orders have been placed yet.":"You haven't placed any orders yet."}),!y&&!p&&!Object.values(l).some(t=>t)&&e.jsx(V,{to:"/create-order",className:"inline-flex items-center mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Place Your First Order"})]}):P==="table"?e.jsx("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-lg shadow-sm overflow-hidden`,children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:`${r?"bg-gray-700":"bg-gray-50"}`,children:e.jsxs("tr",{children:[m&&e.jsx("th",{scope:"col",className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:x.size===w.length&&w.length>0,onChange:ie,className:"rounded border-gray-300"})}),e.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium ${r?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"Order ID"}),e.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium ${r?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"Customer"}),e.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium ${r?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"Date"}),e.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium ${r?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"Items"}),e.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium ${r?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"Total"}),e.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium ${r?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"Status"}),e.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium ${r?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"Payment"}),e.jsx("th",{scope:"col",className:`px-6 py-3 text-right text-xs font-medium ${r?"text-gray-300":"text-gray-500"} uppercase tracking-wider`,children:"Actions"})]})}),e.jsx("tbody",{className:`${r?"bg-gray-800 divide-y divide-gray-700":"bg-white divide-y divide-gray-200"}`,children:w.map(t=>e.jsxs("tr",{className:`${r?"hover:bg-gray-700":"hover:bg-gray-50"} transition-colors`,children:[m&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:x.has(t.id),onChange:()=>B(t.id),className:"rounded border-gray-300"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:`text-sm font-medium ${r?"text-gray-200":"text-gray-900"}`,children:t.orderId})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`h-8 w-8 rounded-full ${r?"bg-gray-600 text-gray-300":"bg-gray-200 text-gray-600"} flex items-center justify-center font-medium text-sm`,children:t.customerName.charAt(0).toUpperCase()}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:`text-sm font-medium ${r?"text-gray-200":"text-gray-900"}`,children:t.customerName}),t.customerEmail&&e.jsx("div",{className:`text-sm ${r?"text-gray-400":"text-gray-500"}`,children:t.customerEmail})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:`text-sm ${r?"text-gray-300":"text-gray-900"}`,children:W(t.createdAt)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{className:"w-4 h-4 mr-1 text-gray-400"}),e.jsxs("span",{className:`text-sm ${r?"text-gray-300":"text-gray-900"}`,children:[t.itemCount," item",t.itemCount!==1?"s":""]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:`text-sm font-medium ${r?"text-gray-200":"text-gray-900"}`,children:["$",t.total.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${H(t.status)}`,children:t.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.paymentStatus==="paid"?r?"bg-green-900/30 text-green-400":"bg-green-100 text-green-800":t.paymentStatus==="failed"?r?"bg-red-900/30 text-red-400":"bg-red-100 text-red-800":r?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-800"}`,children:t.paymentStatus})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(V,{to:`/orders/${t.id}`,className:`inline-flex items-center p-2 border border-transparent rounded-md ${r?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"} transition-colors`,title:"View Details",children:e.jsx(Se,{className:"w-4 h-4"})}),m&&e.jsx("button",{onClick:()=>Y(t.id),className:`inline-flex items-center p-2 border border-transparent rounded-md ${r?"text-red-400 hover:text-red-300 hover:bg-red-900/20":"text-red-600 hover:text-red-800 hover:bg-red-100"} transition-colors`,title:"Delete Order",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx("button",{className:`inline-flex items-center p-2 border border-transparent rounded-md ${r?"text-gray-400 hover:text-gray-200 hover:bg-gray-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"} transition-colors`,title:"More Actions",children:e.jsx(Ee,{className:"w-4 h-4"})})]})})]},t.id))})]})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(t=>e.jsxs("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-lg shadow-sm border ${r?"border-gray-700":"border-gray-200"} p-6`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold ${r?"text-white":"text-gray-900"}`,children:t.orderId}),e.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:W(t.createdAt)})]}),m&&e.jsx("input",{type:"checkbox",checked:x.has(t.id),onChange:()=>B(t.id),className:"rounded border-gray-300"})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{className:`text-sm ${r?"text-gray-300":"text-gray-700"}`,children:t.customerName})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:`text-sm ${r?"text-gray-300":"text-gray-700"}`,children:[t.itemCount," item",t.itemCount!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:`text-sm font-medium ${r?"text-gray-200":"text-gray-900"}`,children:["$",t.total.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${H(t.status)}`,children:t.status}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.paymentStatus==="paid"?r?"bg-green-900/30 text-green-400":"bg-green-100 text-green-800":t.paymentStatus==="failed"?r?"bg-red-900/30 text-red-400":"bg-red-100 text-red-800":r?"bg-yellow-900/30 text-yellow-400":"bg-yellow-100 text-yellow-800"}`,children:t.paymentStatus})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{to:`/orders/${t.id}`,className:"flex-1 px-3 py-2 text-sm bg-indigo-600 text-white text-center rounded-lg hover:bg-indigo-700 transition-colors",children:"View Details"}),m&&e.jsx("button",{onClick:()=>Y(t.id),className:`px-3 py-2 text-sm border rounded-lg transition-colors ${r?"border-red-600 text-red-400 hover:bg-red-900/20":"border-red-300 text-red-600 hover:bg-red-50"}`,children:e.jsx(te,{className:"w-4 h-4"})})]})]},t.id))}),h>1&&e.jsx("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-lg shadow-sm p-4 mt-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-sm ${r?"text-gray-400":"text-gray-700"}`,children:"Show:"}),e.jsxs("select",{value:k,onChange:t=>{le(Number(t.target.value)),b(1)},className:`px-3 py-1 border rounded ${r?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300"}`,children:[e.jsx("option",{value:5,children:"5 per page"}),e.jsx("option",{value:10,children:"10 per page"}),e.jsx("option",{value:20,children:"20 per page"}),e.jsx("option",{value:50,children:"50 per page"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm ${r?"text-gray-400":"text-gray-700"}`,children:["Page ",i," of ",h]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>b(1),disabled:i===1,className:`px-3 py-1 text-sm border rounded transition-colors ${i===1?r?"border-gray-600 text-gray-500 cursor-not-allowed":"border-gray-200 text-gray-400 cursor-not-allowed":r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"First"}),e.jsx("button",{onClick:()=>b(Math.max(1,i-1)),disabled:i===1,className:`px-3 py-1 text-sm border rounded transition-colors ${i===1?r?"border-gray-600 text-gray-500 cursor-not-allowed":"border-gray-200 text-gray-400 cursor-not-allowed":r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Previous"}),e.jsx("button",{onClick:()=>b(Math.min(h,i+1)),disabled:i===h,className:`px-3 py-1 text-sm border rounded transition-colors ${i===h?r?"border-gray-600 text-gray-500 cursor-not-allowed":"border-gray-200 text-gray-400 cursor-not-allowed":r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Next"}),e.jsx("button",{onClick:()=>b(h),disabled:i===h,className:`px-3 py-1 text-sm border rounded transition-colors ${i===h?r?"border-gray-600 text-gray-500 cursor-not-allowed":"border-gray-200 text-gray-400 cursor-not-allowed":r?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Last"})]})]})]})})]})})};export{at as default};
