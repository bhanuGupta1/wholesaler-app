import{u as F,d as S,j as e,S as z,L as O}from"./index-DvFbKyhG.js";import{r as v}from"./vendor-DJ1oPbzn.js";import{u as V,d as C,a as P,c as L,g as T}from"./firebase-DMhjYMbV.js";const B=({data:s,title:t,description:w,color:u,darkMode:a,type:m="bar"})=>{if(!s||s.length===0)return e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-sm font-medium ${a?"text-gray-300":"text-gray-700"} mb-1`,children:t}),e.jsx("p",{className:`text-xs ${a?"text-gray-400":"text-gray-500"} mb-3`,children:"No data available"})]});const l=Math.max(...s.map(d=>d.value)),j=s.reduce((d,o)=>d+o.value,0);return e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`text-sm font-medium ${a?"text-gray-300 cyber-glow":"text-gray-700"} mb-1`,children:t}),w&&e.jsx("p",{className:`text-xs ${a?"text-gray-400":"text-gray-500"} mb-3`,children:w}),m==="pie"?e.jsx("div",{className:"space-y-2",children:s.map((d,o)=>{const g=(d.value/j*100).toFixed(1);return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full bg-${u}-${500+o*100} mr-2 ${a?"shadow-lg shadow-cyan-500/20":""}`}),e.jsx("span",{className:`text-xs ${a?"text-gray-400":"text-gray-500"}`,children:d.name})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:`ml-2 text-xs font-medium ${a?"text-gray-300 cyber-glow":"text-gray-700"}`,children:[d.value," (",g,"%)"]})})]},o)})}):e.jsx("div",{className:"space-y-2",children:s.map((d,o)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`text-xs w-16 ${a?"text-gray-400":"text-gray-500"}`,children:d.name}),e.jsx("div",{className:"flex-1 ml-2",children:e.jsx("div",{className:`h-4 rounded-full ${a?"bg-gray-800 border border-cyan-500/30":"bg-gray-100"} overflow-hidden`,children:e.jsx("div",{className:`h-4 rounded-full ${a?"bg-gradient-to-r from-cyan-500 to-purple-500 shadow-lg shadow-cyan-500/30":`bg-${u}-600`} transition-all duration-500`,style:{width:`${d.value/l*100}%`}})})}),e.jsx("span",{className:`ml-2 text-xs font-medium ${a?"text-gray-300 cyber-glow":"text-gray-700"}`,children:typeof d.value=="number"&&d.value>1e3?`$${(d.value/1e3).toFixed(1)}k`:d.value})]},o))})]})},Y=({products:s,darkMode:t,onBulkRestock:w})=>{const[u,a]=v.useState(new Set),[m,l]=v.useState(50),[j,d]=v.useState(!1),o=s.filter(i=>i.stock<=10),g=s.filter(i=>i.stock<=3),b=i=>{const N=new Set(u);N.has(i)?N.delete(i):N.add(i),a(N)},y=()=>{u.size===o.length?a(new Set):a(new Set(o.map(i=>i.id)))},p=async()=>{if(u.size!==0){d(!0);try{await w(Array.from(u),m),a(new Set)}finally{d(!1)}}};return o.length===0?e.jsxs("div",{className:`${t?"cyber-card bg-gray-900 border-cyan-500/30 shadow-lg shadow-cyan-500/20":"neumorph-card bg-white border-gray-100"} rounded-xl overflow-hidden border`,children:[e.jsx("div",{className:`px-6 py-4 border-b ${t?"border-cyan-500/30":"border-gray-100"}`,children:e.jsx("h2",{className:`text-xl font-bold ${t?"text-white cyber-title cyber-glow":"text-gray-800 neumorph-title"}`,children:t?"INVENTORY SURVEILLANCE":"Stock Alerts"})}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:"âœ…"}),e.jsx("p",{className:`${t?"text-gray-300":"text-gray-600"}`,children:t?"ALL SYSTEMS OPERATIONAL":"All products are well stocked!"})]})]}):e.jsxs("div",{className:`${t?"cyber-card bg-gray-900 border-cyan-500/30 shadow-lg shadow-cyan-500/20":"neumorph-card bg-white border-gray-100"} rounded-xl overflow-hidden border`,children:[e.jsxs("div",{className:`px-6 py-4 border-b ${t?"border-cyan-500/30":"border-gray-100"} flex justify-between items-center`,children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-xl font-bold ${t?"text-white cyber-title cyber-glow":"text-gray-800 neumorph-title"}`,children:t?"INVENTORY SURVEILLANCE":"Stock Alerts"}),e.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[g.length," critical â€¢ ",o.length," total low stock"]})]}),u.size>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:m,onChange:i=>l(parseInt(i.target.value)||0),className:`w-20 px-2 py-1 text-sm rounded ${t?"cyber-btn bg-gray-800 border-cyan-500/50 text-cyan-300":"neumorph-btn bg-white border-gray-300"} border`,min:"1",placeholder:"50"}),e.jsx("button",{onClick:p,disabled:j,className:`${t?"cyber-btn bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 shadow-lg shadow-green-500/20":"neumorph-btn bg-green-600 hover:bg-green-700"} text-white px-3 py-1 rounded text-sm disabled:opacity-50 transition-all duration-300`,children:j?"RESTOCKING...":`RESTOCK ${u.size}`})]})]}),e.jsx("div",{className:`px-6 py-3 border-b ${t?"border-cyan-500/30 bg-gray-800/50":"border-gray-100 bg-gray-50"}`,children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:u.size===o.length&&o.length>0,onChange:y,className:"mr-2"}),e.jsx("span",{className:`text-sm ${t?"text-gray-300":"text-gray-700"}`,children:"Select all low stock items"})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:o.map(i=>e.jsx("div",{className:`p-4 border-b ${t?"border-cyan-500/20 hover:bg-gray-800/50":"border-gray-100 hover:bg-gray-50"} transition-colors duration-200`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:u.has(i.id),onChange:()=>b(i.id),className:"mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium ${t?"text-gray-200":"text-gray-900"}`,children:i.name}),e.jsxs("div",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[i.category," â€¢ $",i.price]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.stock<=3?t?"bg-red-900/30 text-red-400 border border-red-500/30":"bg-red-100 text-red-800":t?"bg-yellow-900/30 text-yellow-400 border border-yellow-500/30":"bg-yellow-100 text-yellow-800"}`,children:[i.stock," left"]}),e.jsx(O,{to:`/inventory/${i.id}`,className:`text-sm ${t?"text-cyan-400 hover:text-cyan-300 cyber-glow":"text-indigo-600 hover:text-indigo-800"} font-medium transition-colors duration-200`,children:"Edit"})]})]})},i.id))}),e.jsx("div",{className:`px-6 py-3 border-t ${t?"border-cyan-500/30 bg-gray-800/50":"border-gray-100 bg-gray-50"}`,children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>a(new Set(g.map(i=>i.id))),className:`text-sm ${t?"cyber-btn bg-red-600 hover:bg-red-500 shadow-lg shadow-red-500/20":"neumorph-btn bg-red-600 hover:bg-red-700"} text-white px-3 py-1 rounded transition-all duration-300`,children:["Select Critical (",g.length,")"]}),e.jsx("button",{onClick:()=>{const i=o.map(N=>({product:N.name,currentStock:N.stock,suggestedOrder:Math.max(50,N.stock*5)}));console.log("Purchase order suggestions:",i)},className:`text-sm ${t?"cyber-btn bg-blue-600 hover:bg-blue-500 shadow-lg shadow-blue-500/20":"neumorph-btn bg-blue-600 hover:bg-blue-700"} text-white px-3 py-1 rounded transition-all duration-300`,children:"Generate Orders"})]})})]})},G=({orders:s,darkMode:t,onUpdateOrderStatus:w,onBulkUpdate:u})=>{const[a,m]=v.useState("pending"),[l,j]=v.useState(new Set),[d,o]=v.useState(null),[g,b]=v.useState(!1),y=v.useMemo(()=>a==="all"?s:s.filter(r=>r.status===a),[s,a]),p={pending:s.filter(r=>r.status==="pending").length,processing:s.filter(r=>r.status==="processing").length,completed:s.filter(r=>r.status==="completed").length,cancelled:s.filter(r=>r.status==="cancelled").length},i=r=>{const x=new Set(l);x.has(r)?x.delete(r):x.add(r),j(x)},N=()=>{l.size===y.length?j(new Set):j(new Set(y.map(r=>r.id)))},c=async r=>{if(l.size!==0){b(!0);try{await u(Array.from(l),r),j(new Set)}finally{b(!1)}}},h=async(r,x)=>{if(d!==r){o(r);try{await w(r,x)}catch(n){console.error("Failed to update order status:",n)}finally{o(null)}}};return e.jsxs("div",{className:`${t?"cyber-card bg-gray-900 border-cyan-500/30 shadow-lg shadow-cyan-500/20":"neumorph-card bg-white border-gray-100"} rounded-xl overflow-hidden border`,children:[e.jsxs("div",{className:`px-6 py-4 border-b ${t?"border-cyan-500/30":"border-gray-100"} flex justify-between items-center`,children:[e.jsx("h2",{className:`text-xl font-bold ${t?"text-white cyber-title cyber-glow":"text-gray-800 neumorph-title"}`,children:t?"ORDER STREAM CONTROL":"Order Processing"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[l.size>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm ${t?"text-gray-300":"text-gray-600"}`,children:[l.size," selected"]}),e.jsx("button",{onClick:()=>c("processing"),disabled:g,className:`${t?"cyber-btn bg-blue-600 hover:bg-blue-500 shadow-lg shadow-blue-500/20":"neumorph-btn bg-blue-600 hover:bg-blue-700"} text-white px-2 py-1 rounded text-xs disabled:opacity-50 transition-all duration-300`,children:"Process"}),e.jsx("button",{onClick:()=>c("completed"),disabled:g,className:`${t?"cyber-btn bg-green-600 hover:bg-green-500 shadow-lg shadow-green-500/20":"neumorph-btn bg-green-600 hover:bg-green-700"} text-white px-2 py-1 rounded text-xs disabled:opacity-50 transition-all duration-300`,children:"Complete"}),e.jsx("button",{onClick:()=>c("cancelled"),disabled:g,className:`${t?"cyber-btn bg-red-600 hover:bg-red-500 shadow-lg shadow-red-500/20":"neumorph-btn bg-red-600 hover:bg-red-700"} text-white px-2 py-1 rounded text-xs disabled:opacity-50 transition-all duration-300`,children:"Cancel"})]}),e.jsxs("select",{value:a,onChange:r=>m(r.target.value),className:`px-3 py-1 rounded-md text-sm ${t?"cyber-btn bg-gray-800 border-cyan-500/50 text-cyan-300":"neumorph-btn bg-white border-gray-300"} border focus:ring-indigo-500 focus:border-indigo-500`,children:[e.jsxs("option",{value:"pending",children:["Pending (",p.pending,")"]}),e.jsxs("option",{value:"processing",children:["Processing (",p.processing,")"]}),e.jsxs("option",{value:"completed",children:["Completed (",p.completed,")"]}),e.jsxs("option",{value:"cancelled",children:["Cancelled (",p.cancelled,")"]}),e.jsxs("option",{value:"all",children:["All Orders (",s.length,")"]})]})]})]}),e.jsx("div",{className:`p-6 border-b ${t?"border-cyan-500/20":"border-gray-200"}`,children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${t?"text-yellow-400 cyber-glow":"text-yellow-600"}`,children:p.pending}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${t?"text-blue-400 cyber-glow":"text-blue-600"}`,children:p.processing}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Processing"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${t?"text-green-400 cyber-glow":"text-green-600"}`,children:p.completed}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Completed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${t?"text-red-400 cyber-glow":"text-red-600"}`,children:p.cancelled}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Cancelled"})]})]})}),y.length>0&&e.jsx("div",{className:`px-6 py-3 border-b ${t?"border-cyan-500/30 bg-gray-800/50":"border-gray-100 bg-gray-50"}`,children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:l.size===y.length&&y.length>0,onChange:N,className:"mr-2"}),e.jsxs("span",{className:`text-sm ${t?"text-gray-300":"text-gray-700"}`,children:["Select all ",a," orders"]})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:y.length>0?e.jsx("div",{className:`divide-y ${t?"divide-cyan-500/20":"divide-gray-200"}`,children:y.slice(0,15).map(r=>e.jsx("div",{className:`p-4 ${t?"hover:bg-gray-800/50":"hover:bg-gray-50"} transition-colors duration-200`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:l.has(r.id),onChange:()=>i(r.id),className:"mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:`font-medium ${t?"text-gray-200":"text-gray-900"}`,children:["Order #",r.id.slice(0,8)]}),e.jsxs("div",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[r.customerName," â€¢ $",r.total.toFixed(2)]}),e.jsx("div",{className:`text-xs ${t?"text-gray-500":"text-gray-400"}`,children:r.createdAt.toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:r.status,onChange:x=>h(r.id,x.target.value),disabled:d===r.id,className:`text-xs rounded-md ${t?"cyber-btn bg-gray-800 border-cyan-500/50 text-cyan-300":"neumorph-btn bg-white border-gray-300"} border focus:ring-indigo-500 focus:border-indigo-500 disabled:opacity-50`,children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),d===r.id&&e.jsx("div",{className:`animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 ${t?"border-cyan-500":"border-indigo-500"}`}),e.jsx(O,{to:`/orders/${r.id}`,className:`text-sm ${t?"text-cyan-400 hover:text-cyan-300 cyber-glow":"text-indigo-600 hover:text-indigo-800"} font-medium transition-colors duration-200`,children:"View"})]})]})},r.id))}):e.jsx("div",{className:"p-6 text-center",children:e.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"}`,children:"No orders found for the selected status."})})}),e.jsx("div",{className:`border-t ${t?"border-cyan-500/30 bg-gray-800/50":"border-gray-100 bg-gray-50"} px-6 py-3`,children:e.jsxs(O,{to:"/orders",className:`text-sm font-medium ${t?"text-cyan-400 hover:text-cyan-300 cyber-glow":"text-indigo-600 hover:text-indigo-800"} flex items-center justify-center transition-colors duration-200`,children:["View All Orders",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})},W=({stats:s,darkMode:t})=>{var d,o;const w=()=>{const g=[],b=new Date;for(let y=6;y>=0;y--){const p=new Date(b);p.setDate(p.getDate()-y);const i=s.allOrders.filter(c=>new Date(c.createdAt).toDateString()===p.toDateString()),N=i.reduce((c,h)=>c+h.total,0);g.push({name:p.toLocaleDateString("en-US",{weekday:"short"}),value:Math.round(N),orders:i.length})}return g},u=()=>{if(!s.allProducts||s.allProducts.length===0)return[{name:"No Data",value:0}];const g={};return s.allProducts.forEach(b=>{const y=b.category||"Other",p=(b.price||0)*Math.max(0,100-(b.stock||0));g[y]=(g[y]||0)+p}),Object.entries(g).map(([b,y])=>({name:b,value:Math.round(y)})).sort((b,y)=>y.value-b.value).slice(0,5)},a=w(),m=u(),l=Math.round(s.revenue/30),j=s.totalOrders>0?Math.round((s.totalOrders-s.pendingOrders)/s.totalOrders*100):0;return e.jsxs("div",{className:`${t?"cyber-card bg-gray-900 border-cyan-500/30 shadow-lg shadow-cyan-500/20":"neumorph-card bg-white border-gray-100"} rounded-xl overflow-hidden border`,children:[e.jsxs("div",{className:`px-6 py-4 border-b ${t?"border-cyan-500/30":"border-gray-100"}`,children:[e.jsx("h2",{className:`text-xl font-bold ${t?"text-white cyber-title cyber-glow":"text-gray-800 neumorph-title"}`,children:t?"NEURAL ANALYTICS":"Performance Analytics"}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:t?"Real-time data stream analysis":"Real-time data from your business"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-800/50 border border-cyan-500/30 shadow-lg shadow-cyan-500/10":"bg-gray-50 border border-gray-200"}`,children:[e.jsx("div",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Daily Avg Revenue"}),e.jsxs("div",{className:`text-2xl font-bold ${t?"text-green-400 cyber-glow":"text-green-600"}`,children:["$",l]}),e.jsx("div",{className:`text-xs ${t?"text-gray-500":"text-gray-400"} mt-1`,children:"Based on last 30 days"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-800/50 border border-cyan-500/30 shadow-lg shadow-cyan-500/10":"bg-gray-50 border border-gray-200"}`,children:[e.jsx("div",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"Order Completion"}),e.jsxs("div",{className:`text-2xl font-bold ${t?"text-blue-400 cyber-glow":"text-blue-600"}`,children:[j,"%"]}),e.jsxs("div",{className:`text-xs ${t?"text-gray-500":"text-gray-400"} mt-1`,children:[s.totalOrders-s.pendingOrders," of ",s.totalOrders," orders"]})]})]}),e.jsx(B,{title:t?"7-DAY REVENUE STREAM":"7-Day Sales Trend",description:`Total revenue: $${a.reduce((g,b)=>g+b.value,0)}`,data:a,color:"indigo",darkMode:t}),e.jsx(B,{title:t?"CATEGORY BREAKDOWN":"Revenue by Category",description:"Estimated revenue based on product sales",data:m,color:"green",darkMode:t,type:"pie"}),e.jsxs("div",{className:`mt-4 p-3 rounded-lg ${t?"bg-blue-900/20 border border-blue-500/30 shadow-lg shadow-blue-500/10":"bg-blue-50 border border-blue-100"}`,children:[e.jsx("div",{className:`text-sm font-medium ${t?"text-blue-300 cyber-glow":"text-blue-800"} mb-1`,children:t?"ðŸ”® NEURAL INSIGHTS":"ðŸ“Š Business Insights"}),e.jsxs("div",{className:`text-xs ${t?"text-blue-200":"text-blue-700"} space-y-1`,children:[e.jsxs("div",{children:["â€¢ Best performing day: ",(d=a.reduce((g,b)=>b.value>g.value?b:g,a[0]))==null?void 0:d.name]}),e.jsxs("div",{children:["â€¢ Top category: ",((o=m[0])==null?void 0:o.name)||"N/A"]}),e.jsxs("div",{children:["â€¢ Avg order value: $",s.totalOrders>0?Math.round(s.revenue/s.totalOrders):0]})]})]})]})]})},_=({products:s,darkMode:t})=>{const[w,u]=v.useState("all"),a=v.useMemo(()=>{switch(w){case"low_stock":return s.filter(l=>l.stock<=10);case"out_of_stock":return s.filter(l=>l.stock===0);case"in_stock":return s.filter(l=>l.stock>10);default:return s}},[s,w]),m={total:s.length,lowStock:s.filter(l=>l.stock<=10&&l.stock>0).length,outOfStock:s.filter(l=>l.stock===0).length,inStock:s.filter(l=>l.stock>10).length};return e.jsxs("div",{className:`${t?"cyber-card bg-gray-900 border-cyan-500/30 shadow-lg shadow-cyan-500/20":"neumorph-card bg-white border-gray-100"} rounded-xl overflow-hidden border`,children:[e.jsxs("div",{className:`px-6 py-4 border-b ${t?"border-cyan-500/30":"border-gray-100"} flex justify-between items-center`,children:[e.jsx("h2",{className:`text-xl font-bold ${t?"text-white cyber-title cyber-glow":"text-gray-800 neumorph-title"}`,children:t?"INVENTORY MATRIX":"Inventory Overview"}),e.jsxs("select",{value:w,onChange:l=>u(l.target.value),className:`px-3 py-1 rounded-md text-sm ${t?"cyber-btn bg-gray-800 border-cyan-500/50 text-cyan-300":"neumorph-btn bg-white border-gray-300"} border focus:ring-indigo-500 focus:border-indigo-500`,children:[e.jsxs("option",{value:"all",children:["All Products (",m.total,")"]}),e.jsxs("option",{value:"in_stock",children:["In Stock (",m.inStock,")"]}),e.jsxs("option",{value:"low_stock",children:["Low Stock (",m.lowStock,")"]}),e.jsxs("option",{value:"out_of_stock",children:["Out of Stock (",m.outOfStock,")"]})]})]}),e.jsx("div",{className:`p-6 border-b ${t?"border-cyan-500/20":"border-gray-200"}`,children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${t?"text-blue-400 cyber-glow":"text-blue-600"}`,children:m.total}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Total"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${t?"text-green-400 cyber-glow":"text-green-600"}`,children:m.inStock}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"In Stock"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${t?"text-yellow-400 cyber-glow":"text-yellow-600"}`,children:m.lowStock}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Low Stock"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${t?"text-red-400 cyber-glow":"text-red-600"}`,children:m.outOfStock}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Out of Stock"})]})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:a.length>0?e.jsx("div",{className:`divide-y ${t?"divide-cyan-500/20":"divide-gray-200"}`,children:a.slice(0,10).map(l=>e.jsx("div",{className:`p-4 ${t?"hover:bg-gray-800/50":"hover:bg-gray-50"} transition-colors duration-200`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium ${t?"text-gray-200":"text-gray-900"}`,children:l.name}),e.jsxs("div",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[l.category," â€¢ $",l.price]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.stock>10?t?"bg-green-900/30 text-green-400 border border-green-500/30":"bg-green-100 text-green-800":l.stock>0?t?"bg-yellow-900/30 text-yellow-400 border border-yellow-500/30":"bg-yellow-100 text-yellow-800":t?"bg-red-900/30 text-red-400 border border-red-500/30":"bg-red-100 text-red-800"}`,children:[l.stock," units"]}),e.jsx(O,{to:`/inventory/${l.id}`,className:`text-sm ${t?"text-cyan-400 hover:text-cyan-300 cyber-glow":"text-indigo-600 hover:text-indigo-800"} font-medium transition-colors duration-200`,children:"Edit"})]})]})},l.id))}):e.jsx("div",{className:"p-6 text-center",children:e.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"}`,children:"No products found for the selected filter."})})}),e.jsx("div",{className:`border-t ${t?"border-cyan-500/30 bg-gray-800/50":"border-gray-100 bg-gray-50"} px-6 py-3`,children:e.jsxs(O,{to:"/inventory",className:`text-sm font-medium ${t?"text-cyan-400 hover:text-cyan-300 cyber-glow":"text-indigo-600 hover:text-indigo-800"} flex items-center justify-center transition-colors duration-200`,children:["Manage Full Inventory",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ml-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})},H=({darkMode:s,onGenerateReport:t,onScheduleMeeting:w})=>{const[u,a]=v.useState(null),m=[{id:"add-product",to:"/add-product",name:s?"ADD TO MATRIX":"Add Product",description:s?"Insert new item":"List new products",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),color:"indigo"},{id:"manage-inventory",to:"/inventory",name:s?"INVENTORY CONTROL":"Manage Inventory",description:s?"Monitor systems":"View all products",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10"})}),color:"green"},{id:"pending-orders",to:"/orders",name:s?"ORDER STREAM":"Process Orders",description:s?"Handle requests":"Manage orders",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"purple"},{id:"generate-report",action:t,name:s?"DATA EXTRACTION":"Generate Report",description:s?"Export intel":"Download analytics",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),color:"pink"}];return e.jsxs("div",{className:`${s?"cyber-card bg-gray-900 border-cyan-500/30 shadow-lg shadow-cyan-500/20":"neumorph-card bg-white border-gray-100"} rounded-xl overflow-hidden border`,children:[e.jsxs("div",{className:`px-6 py-4 border-b ${s?"border-cyan-500/30":"border-gray-100"}`,children:[e.jsx("h2",{className:`text-xl font-bold ${s?"text-white cyber-title cyber-glow":"text-gray-800 neumorph-title"}`,children:s?"COMMAND INTERFACE":"Manager Actions"}),e.jsx("p",{className:`text-xs ${s?"text-gray-400":"text-gray-500"} mt-1`,children:s?"Neural access to core functions":"Quick access to key functions"})]}),e.jsx("div",{className:"p-5 grid grid-cols-2 gap-4",children:m.map((l,j)=>{const d=l.action&&!l.to,o=d?"button":O,g=d?{onClick:l.action}:{to:l.to};return e.jsxs(o,{...g,className:`flex flex-col items-center p-4 rounded-xl transition-all duration-300 transform ${u===j?"scale-105":"scale-100"} group border ${s?"border-cyan-500/30 hover:border-cyan-400/50 bg-gray-800/30 hover:bg-gray-800/50 shadow-lg shadow-cyan-500/10 hover:shadow-cyan-500/20":`border-gray-100 hover:border-${l.color}-100 hover:bg-${l.color}-50`}`,onMouseEnter:()=>a(j),onMouseLeave:()=>a(null),children:[e.jsx("div",{className:`h-12 w-12 rounded-full ${s?"bg-gradient-to-br from-cyan-500/20 to-purple-500/20 border border-cyan-500/30":`bg-${l.color}-100`} flex items-center justify-center mb-3 ${s?"group-hover:shadow-lg group-hover:shadow-cyan-500/30":`group-hover:bg-${l.color}-200`} transition-all duration-300`,children:e.jsx("span",{className:`${s?"text-cyan-400 group-hover:text-cyan-300":`text-${l.color}-600`}`,children:l.icon})}),e.jsx("span",{className:`text-sm font-medium text-center ${s?"text-gray-200 group-hover:text-cyan-400 group-hover:cyber-glow":`text-gray-800 group-hover:text-${l.color}-700`} transition-colors duration-300`,children:l.name}),e.jsx("span",{className:`text-xs ${s?"text-gray-400":"text-gray-500"} mt-1 text-center`,children:l.description})]},l.id)})})]})},q=()=>{const{darkMode:s}=F(),[t,w]=v.useState({totalProducts:0,totalOrders:0,lowStockProducts:0,allOrders:[],allProducts:[],todayOrders:0,revenue:0,pendingOrders:0}),[u,a]=v.useState(!0),[m,l]=v.useState(null),[j,d]=v.useState(null),o=(c,h="success")=>{d({message:c,type:h}),setTimeout(()=>d(null),3e3)},g=async()=>{try{a(!0);const c=L(S,"products"),r=(await T(c)).docs.map(f=>({id:f.id,...f.data()})),x=r.filter(f=>f.stock<=10).length,n=L(S,"orders"),R=(await T(n)).docs.map(f=>{var E;const $=f.data();return{id:f.id,customerName:$.customerName||"Unknown Customer",total:$.total||0,status:$.status||"pending",createdAt:((E=$.createdAt)==null?void 0:E.toDate())||new Date}}),D=new Date;D.setHours(0,0,0,0);const U=R.filter(f=>{const $=new Date(f.createdAt);return $.setHours(0,0,0,0),$.getTime()===D.getTime()}).length,k=R.reduce((f,$)=>f+$.total,0),I=R.filter(f=>f.status==="pending").length;w({totalProducts:r.length,totalOrders:R.length,lowStockProducts:x,allOrders:R,allProducts:r,todayOrders:U,revenue:k,pendingOrders:I}),a(!1)}catch(c){console.error("Error fetching manager data:",c),l("Failed to load manager data"),a(!1)}};v.useEffect(()=>{g()},[]);const b=v.useCallback(async(c,h)=>{try{await V(C(S,"orders",c),{status:h,updatedAt:new Date}),w(r=>{var x;return{...r,allOrders:r.allOrders.map(n=>n.id===c?{...n,status:h}:n),pendingOrders:h==="pending"?r.pendingOrders+1:((x=r.allOrders.find(n=>n.id===c))==null?void 0:x.status)==="pending"?r.pendingOrders-1:r.pendingOrders}}),o(`Order ${c.slice(0,8)} updated to ${h}`,"success")}catch(r){throw console.error("Error updating order status:",r),o("Failed to update order status","error"),r}},[]),y=v.useCallback(async(c,h)=>{try{const r=P(S);c.forEach(x=>{const n=C(S,"orders",x);r.update(n,{status:h,updatedAt:new Date})}),await r.commit(),w(x=>({...x,allOrders:x.allOrders.map(n=>c.includes(n.id)?{...n,status:h}:n),pendingOrders:x.allOrders.filter(n=>c.includes(n.id)?h==="pending":n.status==="pending").length})),o(`${c.length} orders updated to ${h}`,"success")}catch(r){throw console.error("Error bulk updating orders:",r),o("Failed to bulk update orders","error"),r}},[]),p=v.useCallback(async(c,h)=>{try{const r=P(S);c.forEach(x=>{const n=C(S,"products",x);r.update(n,{stock:h,lastRestocked:new Date})}),await r.commit(),w(x=>({...x,allProducts:x.allProducts.map(n=>c.includes(n.id)?{...n,stock:h}:n),lowStockProducts:x.allProducts.filter(n=>c.includes(n.id)?h<=10:n.stock<=10).length})),o(`${c.length} products restocked with ${h} units each`,"success")}catch(r){throw console.error("Error bulk restocking:",r),o("Failed to bulk restock products","error"),r}},[]),i=()=>{try{const c={generatedAt:new Date().toISOString(),summary:{totalRevenue:t.revenue,totalOrders:t.totalOrders,pendingOrders:t.pendingOrders,completedOrders:t.allOrders.filter(n=>n.status==="completed").length,todayOrders:t.todayOrders,lowStockItems:t.lowStockProducts},orderBreakdown:{pending:t.allOrders.filter(n=>n.status==="pending").length,processing:t.allOrders.filter(n=>n.status==="processing").length,completed:t.allOrders.filter(n=>n.status==="completed").length,cancelled:t.allOrders.filter(n=>n.status==="cancelled").length},inventoryStatus:{totalProducts:t.totalProducts,inStock:t.allProducts.filter(n=>n.stock>10).length,lowStock:t.allProducts.filter(n=>n.stock<=10&&n.stock>0).length,outOfStock:t.allProducts.filter(n=>n.stock===0).length},salesTrends:{last7DaysRevenue:t.allOrders.filter(n=>(new Date-n.createdAt)/864e5<=7).reduce((n,A)=>n+A.total,0)}},h=new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),r=URL.createObjectURL(h),x=document.createElement("a");x.href=r,x.download=`manager-report-${new Date().toISOString().split("T")[0]}.json`,x.click(),URL.revokeObjectURL(r),o("Report downloaded successfully","success")}catch{o("Failed to generate report","error")}},N=()=>{o("Team meeting scheduled for tomorrow at 2 PM","success")};return u?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 ${s?"border-cyan-500":"border-indigo-500"}`})}):m?e.jsx("div",{className:`container mx-auto px-4 py-8 ${s?"text-white":"text-gray-800"}`,children:e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-red-500",children:m})})}):e.jsxs("div",{className:`min-h-screen ${s?"cyberpunk-layout-wrapper":"neumorph-layout-wrapper"} relative`,children:[e.jsx(z,{intensity:s?.8:.6,enableGlitch:s}),e.jsxs("div",{className:`container mx-auto px-4 py-8 max-w-7xl ${s?"text-gray-200":"text-gray-800"} relative z-10`,children:[j&&e.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg border ${j.type==="success"?s?"bg-green-900/90 border-green-500/50 text-green-100 shadow-green-500/20":"bg-green-100 border-green-400 text-green-800":s?"bg-red-900/90 border-red-500/50 text-red-100 shadow-red-500/20":"bg-red-100 border-red-400 text-red-800"}`,children:j.message}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${s?"text-white cyber-title cyber-glow":"text-gray-900 neumorph-title"}`,children:s?"NEURAL COMMAND CENTER":"Manager Dashboard"}),e.jsx("p",{className:`mt-1 text-sm ${s?"text-gray-400":"text-gray-500"}`,children:s?"Real-time operations control with quantum analytics and neural processing":"Real-time operations management with bulk actions and smart alerts"})]}),e.jsx("button",{onClick:g,disabled:u,className:`px-4 py-2 rounded-lg ${s?"cyber-btn bg-gradient-to-r from-cyan-600 to-purple-600 hover:from-cyan-500 hover:to-purple-500 shadow-lg shadow-cyan-500/20":"neumorph-btn bg-blue-600 hover:bg-blue-700"} text-white disabled:opacity-50 transition-all duration-300`,children:u?"SYNCING...":s?"SYNC DATA":"Refresh Data"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{title:s?"REVENUE STREAM":"Total Revenue",value:`$${t.revenue.toFixed(2)}`,icon:"ðŸ’°",color:"green"},{title:s?"TODAY'S FEED":"Today's Orders",value:t.todayOrders,icon:"ðŸ“‹",color:"blue"},{title:s?"PENDING QUEUE":"Pending Orders",value:t.pendingOrders,icon:"â³",color:"yellow"},{title:s?"LOW STOCK ALERTS":"Low Stock Items",value:t.lowStockProducts,icon:"ðŸ“¦",color:"red"}].map((c,h)=>e.jsx("div",{className:`${s?"cyber-card bg-gray-900 border-cyan-500/30 shadow-lg shadow-cyan-500/20":"neumorph-card bg-white border-gray-100"} rounded-xl border p-6`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-500"} uppercase tracking-wide`,children:c.title}),e.jsx("p",{className:`text-2xl font-bold ${s?"text-white cyber-glow":"text-gray-900"} mt-1`,children:c.value})]}),e.jsx("div",{className:`text-3xl p-3 rounded-full ${s?"bg-gradient-to-br from-cyan-500/20 to-purple-500/20 border border-cyan-500/30":`bg-${c.color}-100`}`,children:c.icon})]})},h))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx(_,{products:t.allProducts,darkMode:s}),e.jsx(G,{orders:t.allOrders,darkMode:s,onUpdateOrderStatus:b,onBulkUpdate:y})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(Y,{products:t.allProducts,darkMode:s,onBulkRestock:p}),e.jsx(W,{stats:t,darkMode:s}),e.jsx(H,{darkMode:s,onGenerateReport:i,onScheduleMeeting:N})]})]})]})]})};export{q as default};
